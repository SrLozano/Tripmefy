{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/bienvenida/bienvenida.component.ts","webpack:///src/app/bienvenida/bienvenida.component.html","webpack:///src/app/carousel/carousel.component.ts","webpack:///src/app/carousel/carousel.component.html","webpack:///src/app/inicio-sesion/inicio-sesion.component.ts","webpack:///src/app/inicio-sesion/inicio-sesion.component.html","webpack:///src/app/interfaces/opiniones.ts","webpack:///src/app/interfaces/solicitud.ts","webpack:///src/app/interfaces/usuario.ts","webpack:///src/app/interfaces/viaje.ts","webpack:///src/app/logros/logros.component.ts","webpack:///src/app/logros/logros.component.html","webpack:///src/app/not-found404/not-found404.component.ts","webpack:///src/app/not-found404/not-found404.component.html","webpack:///src/app/page1/page1.component.ts","webpack:///src/app/page1/page1.component.html","webpack:///src/app/perfiles/perfil-organizador/perfil-organizador.component.ts","webpack:///src/app/perfiles/perfil-organizador/perfil-organizador.component.html","webpack:///src/app/perfiles/perfil-viajero/perfil-viajero.component.ts","webpack:///src/app/perfiles/perfil-viajero/perfil-viajero.component.html","webpack:///src/app/privacidad/privacidad.component.ts","webpack:///src/app/privacidad/privacidad.component.html","webpack:///src/app/pruebas/pruebas.component.ts","webpack:///src/app/pruebas/pruebas.component.html","webpack:///src/app/registro/registro.component.ts","webpack:///src/app/registro/registro.component.html","webpack:///src/app/services/auth.service.ts","webpack:///src/app/services/firestore/firestore.service.ts","webpack:///src/app/services/firestore/opiniones-firestore.service.ts","webpack:///src/app/services/firestore/solicitud-firestore.service.ts","webpack:///src/app/services/firestore/usuario-firestore.service.ts","webpack:///src/app/shared/boton/boton.component.ts","webpack:///src/app/shared/boton/boton.component.html","webpack:///src/app/shared/comentario-pu/comentario-pu.component.ts","webpack:///src/app/shared/comentario-pu/comentario-pu.component.html","webpack:///src/app/shared/edicion-pu/edicion-pu.component.ts","webpack:///src/app/shared/edicion-pu/edicion-pu.component.html","webpack:///src/app/shared/footer/footer.component.ts","webpack:///src/app/shared/footer/footer.component.html","webpack:///src/app/shared/header/header.component.ts","webpack:///src/app/shared/header/header.component.html","webpack:///src/app/shared/mensaje/mensaje.component.ts","webpack:///src/app/shared/mensaje/mensaje.component.html","webpack:///src/app/shared/pedir-imagen/pedir-imagen.component.ts","webpack:///src/app/shared/pedir-imagen/pedir-imagen.component.html","webpack:///src/app/shared/puntuacion-pu/puntuacion-pu.component.ts","webpack:///src/app/shared/puntuacion-pu/puntuacion-pu.component.html","webpack:///src/app/shared/scroll-top/scroll-top.component.ts","webpack:///src/app/shared/scroll-top/scroll-top.component.html","webpack:///src/app/shared/volver/volver.component.ts","webpack:///src/app/shared/volver/volver.component.html","webpack:///src/app/viajes/crear-viaje/crear-viaje.component.ts","webpack:///src/app/viajes/crear-viaje/crear-viaje.component.html","webpack:///src/app/viajes/mis-viajes/mis-viajes.component.ts","webpack:///src/app/viajes/mis-viajes/mis-viajes.component.html","webpack:///src/app/viajes/unirse-ciudad/unirse-ciudad.component.ts","webpack:///src/app/viajes/unirse-ciudad/unirse-ciudad.component.html","webpack:///src/app/viajes/unirse-continente/unirse-continente.component.ts","webpack:///src/app/viajes/unirse-continente/unirse-continente.component.html","webpack:///src/app/viajes/unirse-pais/unirse-pais.component.ts","webpack:///src/app/viajes/unirse-pais/unirse-pais.component.html","webpack:///src/app/viajes/viaje/viaje.component.ts","webpack:///src/app/viajes/viaje/viaje.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","pathMatch","redirectTo","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","initializeApp","firebase","declarations","providers","bootstrap","BienvenidaComponent","textoMotivacion","textoAccion","textoViajero","textoOrganizador","localStorage","getItem","clear","console","log","pagInicio","window","location","origin","assign","usuario","CarouselComponent","_activatedRoute","currentSlide","primero","segundo","previous","slides","length","next","links","undefined","destino","onPreviousClick","onNextClick","opacity","animations","InicioSesionComponent","route","authSvc","userService","hide","navigate","form","email","password","loginByEmail","getUsuariosByEmail","subscribe","res","i","setItem","tipo","test","back","onLogin","Puntuacion","o","Object","Comentario","Solicitud","Usuario","Viaje","Slides","LogrosComponent","logros","NotFound404Component","titulo","Page1Component","PerfilOrganizadorComponent","_route","_router","storage","firestoreServiceUser","firestoreServiceViaje","firestoreServiceOpiniones","zone","myUrl","descripcion","susViajes","src","stars","Arr","Array","maxStars","emptystars","comentarios","tuplasComentario","nuevaFoto","nuevaDescripcion","permisoOpinar","permisoEditar","usuarios","reload","scrollTo","visitanteId","document","getElementById","style","display","cerrado","puntos","puntuacion","toString","puntuador","puntuado","snapshot","paramMap","get","createPuntuacion","comment","comentario","comentador","comentado","createComentario","foto","image","desc","signal","actualizar","ubicacion","nombre","apellidos","estrellas","updateUsuario","userId","params","usuarioAux","getUsuario","elem","getPuntuacionesFiltered","media","parseInt","Math","round","getComentariosFiltered","push","img","idUser","contador","n","getViajesByEmail","activarOpiniones","activarEdicion","cerrar","newPuntuacion","newComentario","setDescripcion","setFoto","uploadUser","PerfilViajeroComponent","firestoreServiceSolicitud","susViajesId","getSolicitudesByUserId","viajes","idViaje","estado","getViaje","PrivacidadComponent","el","scrollIntoView","behavior","scroll","PruebasComponent","firestoreService","viaje","pais","ciudad","continente","createViaje","crearViaje","MyErrorStateMatcher","control","isSubmitted","submitted","invalid","dirty","touched","RegistroComponent","authService","checked","labelPosition","apellido","password2","poblacion","terminos","emailFormControl","required","nombreFormControl","apellidoFormControl","poblacionFormControl","paisFormControl","passwordFormControl","password2FormControl","matcher","error","color","registerUser","MaysPrimera","toLowerCase","createUsuario","err","localeCompare","string","charAt","toUpperCase","slice","onRegister","AuthService","afAuth","userData","authState","reject","createUserWithEmailAndPassword","user","signInWithEmailAndPassword","signOut","providedIn","FirestoreService","firestore","db","afs","collection","sli","data","createId","unidas","doc","set","r","toPromise","contacto","valueChanges","ref","orderBy","where","nombreArchivo","datos","upload","OpinionesFirestoreService","com","pun","SolicitudFirestoreService","UsuarioFirestoreService","BotonComponent","texto","ComentarioPuComponent","miComentario","emit","getComentario","EdicionPuComponent","newDescripcion","miFoto","cerrarPopup","setImagen","chooseImagen","save","FooterComponent","HeaderComponent","dialog","solicitudes","organizadorEmail","getSolicitudesByOrganizadorEmail","idUsuario","toInicio","onNotification","onLogout","irPerfil","irAboutUs","close","MensajeComponent","imagen","PedirImagenComponent","url","random","substring","file","target","files","filePath","directiva","getFileRef","task","storageFile","uploadPercent","percentageChanges","snapshotChanges","pipe","urlImage","getDownloadURL","inputImageUser","nativeElement","value","alert","doCerrar","onUpload","PuntuacionPuComponent","estable","j","getPuntuacion","ScrollTopComponent","pageYOffset","documentElement","scrollTop","body","navIsFixed","smoothscroll","currentScroll","requestAnimationFrame","scrollToTop","VolverComponent","CrearViajeComponent","viajeService","continentes","europa","asia","americaNorte","americaSur","americaCentro","oceania","africa","paises","continenteSelect","paisSelect","ciudadSelect","startDate","endDate","limitDate","limitPayDate","telefono","prefijo","item","precio","maxpers","vuelo","alojamiento","comidas","getUsuariosFiltered","newViaje","fin","inicio","limitePago","limiteUnion","maximo","tlf","servicios","viajeros","onCreate","MisViajesComponent","estePais","escogidas","buscar","ciudadesId","ciudades","myciudad","selec","filtro","includes","substr","busqueda","filtrar","UnirseCiudadComponent","search_texto","search_tipo","misViajes","s_viajes","getViajesSorted","getViajesFiltered","iterado","duracion","unsubscribe","UnirseContinenteComponent","clickMessage","UnirsePaisComponent","escogidos","elegido","numContinente","deviceValue","identificador","onChange","ViajeComponent","slides3","usuarios_viaje","img_usuarios_viaje","show","payButton","alreadyPaid","new_solicitud","idOrganizador","createSolicitud","getSolicitudesByTripId","updateSolicitud","tripId","tripAux","getSlides","showButtonJoin","getUsuarios","environment","production","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { Page1Component } from './page1/page1.component';\nimport { InicioSesionComponent } from './inicio-sesion/inicio-sesion.component';\nimport { RegistroComponent } from './registro/registro.component';\nimport { PerfilOrganizadorComponent } from './perfiles/perfil-organizador/perfil-organizador.component';\nimport { PerfilViajeroComponent } from './perfiles/perfil-viajero/perfil-viajero.component';\nimport { CrearViajeComponent } from './viajes/crear-viaje/crear-viaje.component';\nimport { MisViajesComponent } from './viajes/mis-viajes/mis-viajes.component';\nimport { UnirseCiudadComponent } from './viajes/unirse-ciudad/unirse-ciudad.component';\nimport { UnirsePaisComponent } from './viajes/unirse-pais/unirse-pais.component';\nimport { UnirseContinenteComponent } from './viajes/unirse-continente/unirse-continente.component';\nimport { ViajeComponent } from './viajes/viaje/viaje.component';\nimport { NotFound404Component } from './not-found404/not-found404.component';\nimport { PrivacidadComponent } from './privacidad/privacidad.component';\nimport { LogrosComponent } from './logros/logros.component';\nimport { BienvenidaComponent } from './bienvenida/bienvenida.component';\nimport { PedirImagenComponent } from './shared/pedir-imagen/pedir-imagen.component';\nimport {PruebasComponent} from './pruebas/pruebas.component';\n\nconst routes: Routes = [\n  {path:'page1', component:Page1Component},\n  {path:'inicio-sesion', component:InicioSesionComponent},\n  {path:'registro', component:RegistroComponent},\n  {path:'perfil-organizador/:id', component:PerfilOrganizadorComponent},\n  {path:'perfil-viajero/:id', component:PerfilViajeroComponent},\n  {path:'crear-viaje', component:CrearViajeComponent},\n  {path:'mis-viajes', component:MisViajesComponent},\n  {path:'unirse-ciudad/:id', component:UnirseCiudadComponent},\n  {path:'unirse-pais', component:UnirsePaisComponent},\n  {path:'unirse-continente', component:UnirseContinenteComponent},\n  {path:'viaje/:id', component:ViajeComponent},\n  {path:'privacidad', component:PrivacidadComponent},\n  {path:'not-found404', component: NotFound404Component},\n  {path:'logros', component: LogrosComponent},\n  {path:'bienvenida', component: BienvenidaComponent},\n  {path:'pedir-imagen', component: PedirImagenComponent},\n  {path:'pruebas', component: PruebasComponent},\n  {path:'**', pathMatch: 'full', redirectTo: 'page1'}\n  \n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'Tripmefy';\n}\n","<section class=\"general-container\">\n  <router-outlet></router-outlet>\n</section>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatBadgeModule } from '@angular/material/badge';\n// ELEMENTOS UI ESPECFICOS:\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\nimport {MatTableModule} from '@angular/material/table';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatTooltipModule} from '@angular/material/tooltip';\n\n\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { AngularFireStorageModule } from '@angular/fire/storage';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\nimport { environment } from '../environments/environment';\n\nimport { RouterModule } from '@angular/router';\n\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { ModalModule } from 'ngx-bootstrap/modal';\n\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { InicioSesionComponent } from './inicio-sesion/inicio-sesion.component';\nimport { NotFound404Component } from './not-found404/not-found404.component';\nimport { Page1Component } from './page1/page1.component';\nimport { PrivacidadComponent } from './privacidad/privacidad.component';\nimport { RegistroComponent } from './registro/registro.component';\nimport { FooterComponent } from './shared/footer/footer.component';\nimport { HeaderComponent } from './shared/header/header.component';\nimport { PerfilOrganizadorComponent } from './perfiles/perfil-organizador/perfil-organizador.component';\nimport { PerfilViajeroComponent } from './perfiles/perfil-viajero/perfil-viajero.component';\nimport { CrearViajeComponent } from './viajes/crear-viaje/crear-viaje.component';\nimport { MisViajesComponent } from './viajes/mis-viajes/mis-viajes.component';\nimport { UnirseCiudadComponent } from './viajes/unirse-ciudad/unirse-ciudad.component';\nimport { UnirseContinenteComponent } from './viajes/unirse-continente/unirse-continente.component';\nimport { UnirsePaisComponent } from './viajes/unirse-pais/unirse-pais.component';\nimport { ViajeComponent } from './viajes/viaje/viaje.component';\nimport { CarouselComponent } from './carousel/carousel.component';\n\n\nimport { LogrosComponent } from './logros/logros.component';\nimport { BienvenidaComponent } from './bienvenida/bienvenida.component';\nimport { CommonModule } from '@angular/common';\n\nimport { VolverComponent } from './shared/volver/volver.component';\n\n\nimport { BotonComponent } from './shared/boton/boton.component';\n\n\nimport { ScrollTopComponent } from './shared/scroll-top/scroll-top.component';\nimport { PedirImagenComponent } from './shared/pedir-imagen/pedir-imagen.component';\nimport { PruebasComponent } from './pruebas/pruebas.component';\nimport { PuntuacionPuComponent } from './shared/puntuacion-pu/puntuacion-pu.component';\nimport { ComentarioPuComponent } from './shared/comentario-pu/comentario-pu.component';\nimport { EdicionPuComponent } from './shared/edicion-pu/edicion-pu.component';\nimport { MensajeComponent } from './shared/mensaje/mensaje.component';\n\n\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    InicioSesionComponent,\n    NotFound404Component,\n    Page1Component,\n    PrivacidadComponent,\n    RegistroComponent,\n    FooterComponent,\n    HeaderComponent,\n    PerfilOrganizadorComponent,\n    PerfilViajeroComponent,\n    CrearViajeComponent,\n    MisViajesComponent,\n    UnirseCiudadComponent,\n    UnirseContinenteComponent,\n    UnirsePaisComponent,\n    ViajeComponent,\n    CarouselComponent,\n    VolverComponent,\n    LogrosComponent,\n    BienvenidaComponent,\n    VolverComponent,\n\n    ScrollTopComponent,\n\n    BotonComponent,\n\n    PedirImagenComponent,\n\n    PruebasComponent,\n    PuntuacionPuComponent,\n    ComentarioPuComponent,\n    EdicionPuComponent,\n    MensajeComponent,\n  ],\n  imports: [\n\n    AngularFireModule.initializeApp(environment.firebase),\n    CommonModule,\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n    AngularFireStorageModule,\n  \n    BsDropdownModule.forRoot(),\n    TooltipModule.forRoot(),\n    ModalModule.forRoot(),\n\n    BrowserModule,\n    FormsModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatSelectModule,\n    MatDatepickerModule,\n    MatBadgeModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatSliderModule,\n    MatRadioModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    MatTableModule,\n    MatExpansionModule,\n    MatSnackBarModule,\n    MatTooltipModule,\n    MatToolbarModule,\n    MatProgressSpinnerModule,\n    MatMenuModule,\n    RouterModule,\n\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-bienvenida',\n  templateUrl: './bienvenida.component.html',\n  styleUrls: ['./bienvenida.component.scss']\n})\nexport class BienvenidaComponent implements OnInit {\n\n  constructor() { }\n\n  textoMotivacion = \"\";\n  textoAccion = \"\";\n\n\n  textoViajero = [\n    {\n      'motivacion': 'Hola viajero! Ests cansado del mismo rollo de siempre? Organizar un viaje durante meses para que acabe saliendo mal, o peor, que ni siquiera acabe llevndose a cabo. Las agencias de viajes son costosas y las ofertas no suelen adaptarse a lo buscado. Pues ests de suerte, porque has llegado a la pgina que satisface todas tus necesidades. Busca ofertas de agencias, nete y vete de viaje con gente como t. A qu esperas? Y no olvides rellenar tu perfil! ser la forma de conocerte para los dems viajeros. A qu esperas? Dale al botn y comienza a vivir aventuras inolvidables con gente diferente y al mejor precio.',\n      'accion': 'Busca tu primera aventura'\n\n    }\n  ]\n\n\n  textoOrganizador = [\n    {\n      'motivacion': 'Hola organizador! Atraer a la gente cada vez es ms complicado. Internet ha puesto al alcance de cualquiera organizar un viaje, y los jvenes no quieren destinar una parte del dinero a las comisiones de las agencias. Con Tripmefy tendrs la oportunidad de acercar tu negocio a un pblico joven, subiendo ofertas de baja demanda, permitiras unirse a millones de usuarios que querrn llevar a cabo ese viaje. Los pagos se realizan de forma totalmente segura atravs de paypal, adems, podrs aceptar o rechazar a los solicitantes basndote en su perfil, comentarios y puntuaciones. Consigue visibilidad entre el pblico joven, vende ms y lleva tu negocio al siguiente nivel. A qu esperas? Haz click en crear y sube tu primera oferta ',\n      'accion': 'Sube tu primera oferta'\n    }\n  ]\n\n\n  ngOnInit(): void {\n\n    /**Obtener variable global tipo y meterla en usuario (falta) */\n\n    /**ESTO SIRVE PARA PRUEBAS DE TIPO DE USUARIO */\n\n    // localStorage.setItem('usuario', 'viajero');\n    //localStorage.setItem('usuario', 'organizador');\n\n    /*SI SE INTENTA ACCEDER A ESTA PAGINA SIN HABER INICIADO SESION RETORNAREMOS\n    A LA PAGINA PRINCIPAL */\n    if (localStorage.getItem('usuario')==null){\n      localStorage.clear();\n      console.log(\"Any user is logged\");\n      var pagInicio = window.location.origin + '/page1'; \n      window.location.assign(pagInicio);\n    }\n\n\n\n    let usuario = localStorage.getItem('tipo');\n\n    /**Este switch evalua la variable usuario y decide qu texto mostrar */\n    switch(usuario){\n      case 'viajero':\n        this.textoMotivacion = this.textoViajero[0][\"motivacion\"];\n        this.textoAccion = this.textoViajero[0][\"accion\"];\n        break;\n      case 'organizador':\n      this.textoMotivacion = this.textoOrganizador[0][\"motivacion\"];\n      this.textoAccion = this.textoOrganizador[0][\"accion\"];\n        break;\n      default:\n      this.textoMotivacion = this.textoViajero[0][\"motivacion\"];\n      this.textoAccion = this.textoViajero[0][\"accion\"];\n        break;\n\n    }\n\n  }\n\n}\n","<app-header titulo = \"Aqu empieza todo\"></app-header>\n<div class=\"contenido\">\n    <div class=\"tarjeta\">\n        <h1> Bienvenido !</h1>\n        <div class=\"principal\">\n            <iframe id=\"video\" width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/_xJWESxbP0k\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n            <p>{{textoMotivacion}}</p>\n        </div>\n        <div class=\"inferior\">\n            <h2>{{textoAccion}}</h2>\n            <!--<button [routerLink]=\"['/mis-viajes']\">COMENZAR</button>-->\n            <app-boton texto=\"COMENZAR\" [routerLink]=\"['/mis-viajes']\"></app-boton>\n        </div>\n    </div>\n</div>\n","import { Component, Input,OnInit , Output, EventEmitter} from \"@angular/core\";\nimport { trigger, transition, style, animate } from \"@angular/animations\";\nimport { ActivatedRoute }  from '@angular/router';\n\n@Component({\n  selector: \"carousel\",\n  templateUrl: \"./carousel.component.html\",\n  styleUrls: [\"./carousel.component.scss\"],\n  animations: [\n    trigger('carouselAnimation', [\n      transition('void => *', [\n        style({ opacity: 0 }),\n        animate('300ms', style({ opacity: 1 }))\n      ]),\n      transition('* => void', [\n        animate('300ms', style({ opacity: 0 }))\n      ])\n    ])\n  ]\n})\n\nexport class CarouselComponent {\n  @Input() slides;\n  @Input() links;\n\n  currentSlide = 0;\n  /**misLinks se emplea para pasar por parametro los links correspodientes a las imgenes, en el mismo orden.\n   * Debe tener la siguiente estructura:\n   * [\n   *  [parte1, id1],\n   *  [parte2, id2],\n   *      ...\n   *  [parte3, id3]\n   * ]\n   */\n  primero = \"\";\n  segundo = \"\";\n\n  constructor(private _activatedRoute: ActivatedRoute) {\n\n  }\n\n  onPreviousClick() {\n    const previous = this.currentSlide - 1;\n    this.currentSlide = previous < 0 ? this.slides.length - 1 : previous;\n    //console.log(\"previous clicked, new current slide is: \", this.currentSlide);\n\n\n  }\n\n  onNextClick() {\n    const next = this.currentSlide + 1;\n    this.currentSlide = next === this.slides.length ? 0 : next;\n    //console.log(\"next clicked, new current slide is: \", this.currentSlide);\n\n  }\n\n  onClick(){\n\n    if(this.links == undefined || this.links.length <= 0){\n      //si no tenemos links devolvemos un cero y ya, no hacemos nada\n      return 0;\n    }else{\n       //si tenemos links hacemos lo siguiente\n\n       var origin = window.location.origin + '/'; //obtenemos la parte de la izquierda de la url\n\n      //var datos = window.location.pathname;\n      //var routerLink = datos.split('/');\n\n      var primero = this.links[this.currentSlide][0] + '/'; //primero corresponde a la primera posicion del slide donde estemos\n      var segundo = this.links[this.currentSlide][1]\n      //var segundo = 'yhySIyMyRGwIqtwEeuZV';\n      this.primero = primero;\n      this.segundo = segundo;\n\n\n      var destino = origin + primero + segundo;\n\n      window.location.assign(destino);\n    }\n\n  }\n\n\n\n  ngOnInit(): void {\n\n  }\n}\n","<!-- carousel -->\n<div class=\"carousel\">\n  <!--si hemos pasado link, se pone este a block-->\n \n    <ng-container  *ngFor=\"let slide of slides; let i = index; let link of misLinks\">\n      <img\n        *ngIf=\"i === currentSlide\"\n        [src]=\"slide.src\"\n        (click)=\"onClick()\"\n        class=\"slide\"\n        @carouselAnimation\n      />\n    </ng-container>\n\n \n   \n  \n    <!-- controls -->\n    <button class=\"control prev\" (click)=\"onPreviousClick()\">\n      <span class=\"arrow left\"></span>\n    </button>\n    <button class=\"control next\" (click)=\"onNextClick()\">\n      <span class=\"arrow right\"></span>\n    </button>\n  </div>","import { Usuario } from 'src/app/interfaces/usuario';\nimport { UsuarioFirestoreService } from './../services/firestore/usuario-firestore.service';\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, FormGroupDirective, NgForm, Validators} from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { AuthService } from '../services/auth.service';\nimport { Router } from '@angular/router'; //Para redirigir a una pgina\n\n\n@Component({\n  selector: 'app-inicio-sesion',\n  templateUrl: './inicio-sesion.component.html',\n  styleUrls: ['./inicio-sesion.component.scss']\n})\nexport class InicioSesionComponent implements OnInit {\n\n  public hide = true;\n\n  constructor(private route: Router, private authSvc : AuthService, private userService: UsuarioFirestoreService) { }\n\n  public password:string;\n  public email:string;\n\n \n  ngOnInit(): void {\n  }\n\n  back(){\n    this.route.navigate(['/page1']);\n  }\n\n  onLogin(){\n    var form:Usuario = new Usuario();\n    form.email = this.email;\n    form.password = this.password;\n    this.authSvc.loginByEmail(form);\n    this.userService.getUsuariosByEmail(this.email).subscribe(res=>{\n      var i;\n        for(i=0; i<res.length; i++){ //nunca va a haber ms de un usuario con ese email\n          localStorage.setItem(\"usuario\", res[i].id);\n          localStorage.setItem(\"tipo\", res[i].tipo);\n        }\n      })  \n  }\n\n  checkFields(){\n    if (this.password==='' || this.email === '' || !/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.([a-zA-Z]{2,4})+$/.test(this.email)){\n\n      return true;\n    }else{\n        return false;\n    } \n  }\n\n}\n","<div class=\"contenedor\">\n  <div class=\"lateral-izq\">\n      \n      <img src='../../assets/tripmefy.png'>\n     \n\n  </div>\n\n  <div class=\"lateral-drch\">\n    <app-volver class=\"volver\" (click)='back()'></app-volver>\n    <h1>INICIO DE SESIN</h1>\n    <form (ngSubmit)=\"onLogin()\">\n      <div class=\"inicio_datos\">\n        <mat-form-field class=\"input\">\n          <mat-label>Email</mat-label>\n          <input matInput  placeholder=\"Ej. pat@example.com\" [(ngModel)]=\"email\" name=\"email\" required>\n        </mat-form-field>\n        \n        <br>\n\n        <mat-form-field class=\"input\" appearance=\"fill\" >\n          <mat-label>Introduce tu contrasea</mat-label>\n          <input matInput [type]=\"hide ? 'password' : 'text'\" [(ngModel)]=\"password\" name=\"password\" required>\n          <button mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\" [attr.aria-pressed]=\"hide\" >\n            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n          </button>\n        </mat-form-field>\n      </div>\n\n\n      <div class=\"boton_inicio\">\n          <button type=\"submit\" mat-raised-button style=\"width: 200px\" class= \"boton\" [disabled]=\"checkFields()\">\n          INICIAR SESIN</button>\n          <br><br>\n          <p>An no ests registrado? <a href=\"/registro\">Regstrate</a></p>\n      </div>\n      \n    </form>\n\n      \n  </div>\n</div>","export interface IPuntuacion {\n\n    id:string;\n    puntuador:string;\n    puntuado:string;\n    puntuacion:string;\n   \n}\n\nexport interface IComentario{\n\n    id:string;\n    comentador:string;\n    comentado:string;\n    comentario:string;\n\n}\n\nexport class Puntuacion implements IPuntuacion{\n\n    id:string;\n    puntuador:string;\n    puntuado:string;\n    puntuacion:string;\n    \n\n    constructor(o?:IPuntuacion)\n    {\n        //this.id='';\n        if(o !== undefined) Object.assign(this,o);\n    }\n}\n\nexport class Comentario implements IComentario{\n\n    id:string;\n    comentador:string;\n    comentado:string;\n    comentario:string;\n\n    constructor(o?:IComentario)\n    {\n        //this.id='';\n        if(o !== undefined) Object.assign(this,o);\n    }\n}\n","export interface ISolicitud{\n    idUsuario:string;\n    idViaje:string;\n    idOrganizador:string;\n    id:string;\n    estado:string;\n}\n\nexport class Solicitud implements ISolicitud\n{\n    idUsuario:string;\n    idViaje:string;\n    idOrganizador:string;\n    id:string;\n    estado:string;\n\n\n    constructor(o?:ISolicitud)\n    {\n        if(o !== undefined) Object.assign(this,o);\n    }\n};","export interface IUsuario {\n\n    id:string;\n    email?:string;\n    ubicacion?:string;\n    descripcion?:string;\n    tipo?:string;\n    nombre?:string;\n    apellidos?:string;\n    password?:string;\n    estrellas?:string;\n    image?:string;\n    //los comentarios se buscarn con el id del comentado\n\n}\n\nexport class Usuario implements IUsuario{\n\n    id:string;\n    email?:string;\n    ubicacion?:string;\n    descripcion?:string;\n    tipo?:string;\n    nombre?:string;\n    apellidos?:string;\n    password?:string;\n    estrellas?:string;\n    image?:string;\n    //los comentarios se buscarn con el id del comentado\n\n\n    constructor(o?:IUsuario)\n    {\n        //this.id='';\n        if(o !== undefined) Object.assign(this,o);\n    }\n}\n","\nimport { StringMap } from '@angular/compiler/src/compiler_facade_interface';\n\nexport interface IViaje {\n    ciudad:string;\n    continente:string;\n    descripcion?:string;\n    duracion?:string;\n    email:string;\n    fin?:string;\n    id:string;\n    img?:string;\n    inicio?:string;\n    limitePago?:string;\n    limiteUnion?:string;\n    maximo?:string;\n    pais:string;\n    precio?:string;\n    servicios?:string;\n    tlf?:string;\n    unidas?:string;\n    viajeros?:string; \n};\n\n\nexport class Viaje implements IViaje\n{\n    ciudad:string;\n    continente:string;\n    descripcion?:string;\n    duracion?:string; //Esto se omite\n    email:string;\n    fin?:string;\n    id:string;\n    img?:string;\n    inicio?:string;\n    limitePago?:string;\n    limiteUnion?:string;\n    maximo?:string;\n    pais:string;\n    precio?:string;\n    servicios?:string;\n    tlf?:string;\n    unidas?:string;\n    viajeros?:string;\n\n\n\n\n\n\n\n\n    constructor(o?:IViaje)\n    {\n        //this.id='';\n        if(o !== undefined) Object.assign(this,o);\n    }\n};\n\n\nexport interface ISlides {\n\n    id:string;\n    idViaje:string;\n    url:string;\n}\n\nexport class Slides implements ISlides{\n\n    id:string;\n    idViaje:string;\n    url:string;\n    \n\n    constructor(o?:ISlides)\n    {\n        //this.id='';\n        if(o !== undefined) Object.assign(this,o);\n    }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-logros',\n  templateUrl: './logros.component.html',\n  styleUrls: ['./logros.component.scss']\n})\nexport class LogrosComponent implements OnInit {\n\n  constructor() { }\n  logros = [\n    {\n      'nombre': 'Sper viajero',\n      'descripcion': 'Has estado en todos los continentes',\n      'img': 'logros/logro1.png',\n      'activado': 'no'\n    },\n    {\n      'nombre': 'Viajero amigo',\n      'descripcion': 'Has hecho un viaje con ms de seis personas',\n      'img': 'logros/logro2.png',\n      'activado': 'no'\n    },\n    {\n      'nombre': 'Europa',\n      'descripcion': 'Has estado en Europa',\n      'img': 'logros/logro3.png',\n      'activado': 'no'\n    },\n    {\n    'nombre': 'Asia',\n      'descripcion': 'Has estado en Asia',\n      'img': 'logros/logro4.png',\n      'activado': 'no'\n    },\n    {\n    'nombre': 'frica',\n      'descripcion': 'Has estado en frica',\n      'img': 'logros/logro5.png',\n      'activado': 'no'\n    },\n    {\n    'nombre': 'Oceana',\n      'descripcion': 'Has estado en Oceana',\n      'img': 'logros/logro6.png',\n      'activado': 'no'\n    },\n    {\n    'nombre': 'Amrica del Norte',\n      'descripcion': 'Has estado en Amrica del Norte',\n      'img': 'logros/logro7.png',\n      'activado': 'no'\n    },\n    {\n    'nombre': 'Amrica del Sur',\n      'descripcion': 'Has estado en Amrica del Sur',\n      'img': 'logros/logro8.png',\n      'activado': 'no'\n    },\n    {\n    'nombre': 'Amrica Central',\n      'descripcion': 'Has estado en Amrica Central',\n      'img': 'logros/logro9.png',\n      'activado': 'no'\n    },\n  ]\n  ngOnInit(): void {\n  }\n\n}\n","<app-header titulo=\"Tus logros\"></app-header>\n<div class=\"contenido\">\n    <div class=\"logro\" *ngFor=\"let logro of logros\">\n        <div class =\"info\" class=\"activa\">\n            <img  src=\"../../assets/{{logro['img']}}\">\n            <p id=\"titulo\">{{logro[\"nombre\"]}}</p>\n            <p id=\"descripcin\">{{logro[\"descripcion\"]}}</p>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-not-found404',\n  templateUrl: './not-found404.component.html',\n  styleUrls: ['./not-found404.component.scss']\n})\nexport class NotFound404Component implements OnInit {\n  @Input() public titulo:string = \"Parece que no hay nada por aqu\";\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"mensaje\"><img src=\"../../../assets/warning.png\"><p>{{titulo}}</p></div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page1',\n  templateUrl: './page1.component.html',\n  styleUrls: ['./page1.component.scss']\n})\nexport class Page1Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"contenedor\">\n    <div class=\"lateral-izq\">\n        \n        <img src='../../assets/tripmefy.png'>\n       \n\n    </div>\n\n    <div class=\"lateral-drch\">\n\n        <div class=\"boton_inicio\">\n            <button [routerLink]=\"['/inicio-sesion']\" mat-raised-button  style=\"width: 200px;\" class= \"boton\" > <a >INICIAR SESIN</a></button>\n        </div>\n        <div class=\"boton_registro\">\n            <button [routerLink]=\"['/registro']\" mat-raised-button style=\"width: 200px\" class= \"boton\" >\n            <a >REGISTRO</a></button>\n        </div>\n\n        \n    </div>\n</div>\n","import { Component, OnInit, Input, OnDestroy, ElementRef, ViewChild, NgZone} from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\nimport {UsuarioFirestoreService} from '../../services/firestore/usuario-firestore.service';\nimport {OpinionesFirestoreService} from '../../services/firestore/opiniones-firestore.service';\nimport {FirestoreService} from '../../services/firestore/firestore.service';\nimport {Subscription} from 'rxjs';\nimport {Viaje, IViaje} from '../../interfaces/viaje';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\nimport { Usuario, IUsuario } from 'src/app/interfaces/usuario';\nimport {IPuntuacion, Puntuacion, IComentario, Comentario} from '../../interfaces/opiniones'\n\n@Component({\n  selector: 'app-perfil-organizador',\n  templateUrl: './perfil-organizador.component.html',\n  styleUrls: ['./perfil-organizador.component.scss']\n})\nexport class PerfilOrganizadorComponent implements OnInit, OnDestroy {\n\n \n\n  public links: string[];\n\n  @ViewChild('descripcion') newDescripcion;\n  @ViewChild('imageUser') inputImageUser;\n  uploadPercent: Observable<number>;\n  urlImage: Observable<string>;\n  myUrl = \"\";\n  descripcion:string = \"\";\n  titulo = \"ORGANIZADOR\";\n\n  /****usuario****/\n  public usuarios:Usuario[];\n  public s_usuarios:Subscription;\n  usuario:Usuario;\n\n  /**viajes **/\n  actualLink:string;\n  public susViajes = [\n  \n  ];\n  //almacena los id\n\n  public slides = [\n    { src: \"../../../assets/noViajes.png\"},\n    \n  ];//almacena las imagenes en el formato del carrusel\n  \n\n  /****estrellas****/\n  //es necesario recargar para ver la actualizacin de las estrellas porque hay que hacer la media con el resto\n  stars:number = 4;    //Stars of the user\n  Arr = Array;         //Array to print elements\n  maxStars:number = 5; //Maximum of stars\n  emptystars:number = this.maxStars - this.stars;\n \n\n  /****comentarios****/\n  //no es necesario recargar para ver la actualizacin porque solo hay que aadir\n  comentarios = []; //se rellena como un diccionario con los datos de un comentario:\n  //id comentador, comentario, foto comentador, nombre comentador\n\n  tuplasComentario = [];//0:id del comentador, 1:comentario, 3: true si aadir, false si aadido\n\n  /****ediciones ****/\n  nuevaFoto = \"\";\n  nuevaDescripcion = \"\";\n\n  //****permisos****/\n  permisoOpinar = false; //si el usuario tiene permiso para opinar es true\n  permisoEditar = false; //si el usuario tiene permiso para editar es true\n  \n\n\n  reload(){\n    window.location.reload();\n    window.scrollTo(0,0);\n  }\n //es necesario activar las opiniones si se quiere comentar y puntuar\n  activarOpiniones(){\n    this.permisoOpinar = true;\n  }\n  //es necesario activar la edicin si se quiere editar la descripcin o la foto de perfil\n  activarEdicion(visitanteId:string){\n    this.permisoEditar = true;\n  }\n\n  //activa el botn de comentarios, es llamada cuando el usuario propietario es distinto del usuario\n  //que accede\n  puntuar(){\n    document.getElementById(\"puntuar\").style.display=\"block\";\n  }\n\n  //resultante del evento cerrar de los componentes pu\n  cerrar(cerrado, id){\n    if (cerrado == true){\n      document.getElementById(id).style.display=\"none\";\n    }\n  }\n\n  //resultante del evento puntuacion del componente hijo puntuacion-pu\n  newPuntuacion(puntos){\n    if(puntos > -1){\n      var puntuacion:Puntuacion = new Puntuacion();\n      puntuacion.puntuacion = puntos.toString();\n      puntuacion.puntuador = localStorage.getItem('usuario');\n      puntuacion.puntuado = this._route.snapshot.paramMap.get('id'); \n      this.firestoreServiceOpiniones.createPuntuacion(puntuacion);\n      document.getElementById(\"graciasP\").style.display=\"block\";\n    }document.getElementById(\"puntuar\").style.display=\"none\";\n    \n   \n  }\n\n  //resultante del evento puntuacion del comentario hijo comentario-pu\n  newComentario(comment){\n    if(comment != \"\"){\n      var comentario:Comentario = new Comentario();\n      comentario.comentario = comment;\n      comentario.comentador = localStorage.getItem('usuario');\n      comentario.comentado = this._route.snapshot.paramMap.get('id');\n      this.firestoreServiceOpiniones.createComentario(comentario);\n      document.getElementById(\"graciasC\").style.display=\"block\";\n    }document.getElementById(\"comentar\").style.display=\"none\";\n   \n  }\n\n  //activa el botn de comentarios, es llamada cuando el usuario propietario es distinto del usuario\n  //que accede\n  comentar(){\n    document.getElementById(\"comentar\").style.display=\"block\";\n  }\n  \n  //activa el botn de comentarios, es llamada cuando el usuario propietario es el mismo que el usuario\n  //que accede\n  editar(){\n    document.getElementById(\"editar\").style.display=\"block\";\n  }\n\n  //resultante del evento foto del componente edicion-p\n  \n  setFoto(foto){\n    this.nuevaFoto = foto;\n    if(this.nuevaFoto != \"\" && this.nuevaFoto != undefined){\n      this.usuario.image = foto;\n      \n    }\n    \n  }\n  //resultante del evento newDescripcion del componente edicion-p\n  setDescripcion(desc){\n    this.nuevaDescripcion = desc;\n    if(this.nuevaDescripcion != \"\" && this.nuevaDescripcion != undefined){\n      this.usuario.descripcion = desc;\n      \n    }\n  }\n  \n //resultante del evento signal del componente edicion-pu\n \n  uploadUser(signal){\n    \n      \n    \n    if(this.nuevaFoto != \"\" && this.nuevaFoto != undefined){\n      //alert(this.nuevaFoto);\n      \n      this.usuario.image = this.nuevaFoto;\n\n     \n    \n    }\n    if(this.nuevaDescripcion != \"\" && this.nuevaDescripcion != undefined){\n      //alert(this.nuevaDescripcion);\n      this.usuario.descripcion = this.nuevaDescripcion;\n     \n      \n    }\n\n    //es necesario crear un objeto para que el set funcione\n\n    var actualizar = {\n      \"id\": this.usuario.id,\n      \"email\": this.usuario.email,\n      \"ubicacion\": this.usuario.ubicacion,\n      \"descripcion\": this.usuario.descripcion,\n      \"tipo\": this.usuario.tipo,\n      \"nombre\": this.usuario.nombre,\n      \"apellidos\": this.usuario.apellidos,\n      \"password\": this.usuario.password,\n      \"estrellas\": this.usuario.estrellas,\n      \"image\": this.usuario.image,\n    }\n    \n    this.firestoreServiceUser.updateUsuario(actualizar);\n    document.getElementById(\"editOk\").style.display=\"block\";\n  \n    return true;\n    \n  }\n  \n\n  private db:AngularFirestore;\n  constructor(private _route:ActivatedRoute,\n              private _router: Router,\n              private storage: AngularFireStorage,\n              private firestoreServiceUser: UsuarioFirestoreService,\n              private firestoreServiceViaje: FirestoreService,\n              private firestoreServiceOpiniones: OpinionesFirestoreService,\n              private _activatedRoute: ActivatedRoute,\n              private zone: NgZone\n              ) {\n                this.usuarios = [];\n                this.usuario = new Usuario();\n                \n                \n               }\n\n  ngOnInit(): void {\n\n    \n\n    \n    \n\n    var visitanteId = localStorage.getItem('usuario'); //hace referencia al usuario que est navegando \n    var userId = this._route.snapshot.paramMap.get('id'); //hace referencia al usuario propietario del perfil\n\n    if(visitanteId == \"null\"){\n      var origin = window.location.origin + '/'; \n      var destino = origin + \"page1\";\n      window.location.assign(destino);\n    }\n\n    //utilizo la subscripcin a activatedRoute para que se actualice el pefil de haber cambios en la ruta\n    this._activatedRoute.paramMap.subscribe((params) => {\n      userId = params['id'];\n        //this.reload();\n      if(userId == undefined){\n        userId = this._route.snapshot.paramMap.get('id'); //hace referencia al usuario propietario del perfil;\n      }\n      window.scrollTo(0,0); \n\n        var usuarioAux = this.firestoreServiceUser.getUsuario(userId).then((elem) => {\n\n          /**Se obtiene el usuario propietario del perfil con su id (userId) y se pone el atributo usuario \n           * con los valores correspondientes.\n           * Para eso nos apoyamos de una variable auxiliar usuarioAux, definida como Usuario. Elem ser el \n           * valor devuelto por la funcin getUsuario del servicio firestoreServiceUser\n           */\n          var usuarioAux:Usuario = new Usuario();\n          usuarioAux.id = elem.id;\n          usuarioAux.email = elem.email;\n          usuarioAux.ubicacion = elem.ubicacion;\n          usuarioAux.descripcion = elem.descripcion;\n          this.descripcion = elem.descripcion;\n          usuarioAux.tipo = elem.tipo;\n          usuarioAux.nombre = elem.nombre;\n          usuarioAux.apellidos = elem.apellidos;\n          usuarioAux.password = elem.password;\n          usuarioAux.estrellas = elem.estrellas;\n          usuarioAux.image = elem.image;\n\n          this.usuario = usuarioAux; \n\n          this.firestoreServiceOpiniones.getPuntuacionesFiltered(this.usuario.id).subscribe(res=>{\n            /**Se realiza el proceso de obtencin de puntuaciones. Para ello se buscan todas aquellas\n             * puntuaciones que tengan como valor \"puntuado\" el id del usuario obtenido anteriormente.\n             * Esto se hace mediante el  mtodo getPuntuacionesFiltered del servicio firestoreServiceOpiniones,\n             * que filtra opiniones por el id del usuario puntuado.\n             * \n             * La variable res ser un array que contendr todas las puntuaciones que tengan como \n             * puntuado al usuario propietario del perfil.\n             * \n             * Si no hay puntuaciones, el nmero de estrellas llenas (stars) ser cero, y el de vacas el \n             * mximo. Como no se modifica el parmetro 'estrellas' del usuario propietario del perfil (queda\n             * a -1) se escribir un mensaje \"este usuario no tiene puntuaciones an\"\n             * \n             * Si hay puntuaciones se recorre el array res con un for, se acumulan los valores de dichas \n             * puntuaciones (atributo puntuacin). Finalmente se divide entre el nmero de puntuaciones\n             * (el size de res) para obtener la media. Esta media ser el nmero de estrellas a rellenar,\n             * mientras que las estrellas vacas sern la resta del mximo de estrellas (se ha establecido 5)\n             * y las estrellas llenas. Es importante notar que el atributo \"estrellas\" del usuario propietario\n             * del perfil cambia a 0, por lo que ya no aparecer el mensaje de \"este usuario no tiene \n             * puntuaciones\"\n             * \n             * Para finalizar, se realiza un update del atributo usuario, de forma que la vista muestre los \n             * resultados obtenidos\n             */\n            \n\n            if (res.length <= 0){\n              this.stars = 0;\n              this.emptystars = this.maxStars;\n            }else{\n              var i;\n              var media = 0;\n              for (i = 0; i<res.length; i++){\n                media = media + parseInt(res[i].puntuacion);\n                \n              }\n              media = Math.round(media/res.length); //es necesario redondear, no podemos rellenar media estrella\n              this.stars = media;\n              this.emptystars = this.maxStars - media;\n              //de esta forma, en el html ya no aparecer el comentario de 'no hay puntuaciones'\n              this.usuario.estrellas = \"0\";\n              \n              //se requiere una variable auxiliar para que no salte el error DocumentReference.set() al llamar\n              //a updateUsuario\n              \n              var actualizar = \n                {\n                  \"id\": this.usuario.id,\n                  \"email\": this.usuario.email,\n                  \"ubicacion\": this.usuario.ubicacion,\n                  \"descripcion\": this.usuario.descripcion,\n                  \"tipo\": this.usuario.tipo,\n                  \"nombre\": this.usuario.nombre,\n                  \"apellidos\": this.usuario.apellidos,\n                  \"password\": this.usuario.password,\n                  \"estrellas\": this.usuario.estrellas,\n                  \"image\": this.usuario.image\n                }\n              \n              \n              \n\n              this.firestoreServiceUser.updateUsuario(actualizar);\n            }\n          });\n\n          this.firestoreServiceOpiniones.getComentariosFiltered(this.usuario.id).subscribe(res=>{\n            /**Se obtienen los comentarios que tienen como atributo \"comentado\" al usuario propietario\n             * del perfil. Para ello se emplea el mtodo getComentariosFiltered del servicio \n             * firestoreServiceOpiniones, que filtra los comentarios por el id del comentado.\n             * \n             * Guardamos los comentarios en un diccionario, definido arriba como atributo,\n             * que tendr los siguientes parmetros:\n             * id del comentador, foto del comentador (photo), nombre del comentador (person) y comentario\n             * (comment)\n             * \n             * Una vez tenemos el comentario, habiendo usado la funcin getComentariosFiltered, podemos usar\n             * el id del comentador para obtener sus datos desde la tabla Usuario. Para ello empleamos\n             * el mtodo getUsuario del servicio firestoreServiceUser, donde elem ser el usuario coincidente\n             * con el id del comentador\n             * \n             * Es importante notar que la obtencin del comentario y la obtencin del usuario se hacen en \n             * espacios temporales diferentes. Es por ello que los comentarios se almacenan junto con el id\n             * del comentador en un array auxiliar de tuplas <comentario, idComentador>. Cuando se han metido\n             * todos los comentadores en el diccionario, se emplea la informacin del array auxiliar para\n             * meter tambin los comentarios.\n             * \n             * Las comprobaciones hechas al meter un comentario en el diccionario permiten que:\n             *  -Un usuario pueda hacer varios comentarios\n             *  -Todas las entradas del diccionario tengan un comentario\n             */\n            this.comentarios = [];\n            var i;\n            for (i = 0; i<res.length ; i++){\n              this.comentarios.push({\n                    \"id\":\"\",\n                    \"photo\": \"\",\n                    \"person\": \"\",\n                    \"comment\": \"\",\n                    \"tipo-url\": \"\"\n              },)\n            \n            \n            }\n            var comment;\n            var img;\n            var nombre;\n            var idUser;\n            var tipo;\n            for (i = 0; i<res.length ; i++){\n              comment = res[i].comentario;\n              this.tuplasComentario.push([comment, res[i].comentador, true]);\n            \n              var contador = 0;\n              var usuarioAux = this.firestoreServiceUser.getUsuario(res[i].comentador).then((elem) => {\n                \n                img = elem.image;\n                this.comentarios[contador][\"photo\"] = img;\n                \n                nombre = elem.nombre;\n                this.comentarios[contador][\"person\"] = nombre;\n          \n                idUser = elem.id;\n                this.comentarios[contador][\"id\"] = idUser;\n\n                tipo = elem.tipo;\n                \n                if(tipo == 'organizador'){\n                  this.comentarios[contador][\"tipo-url\"] = '/perfil-organizador/';\n                }else{\n                  this.comentarios[contador][\"tipo-url\"] = '/perfil-viajero/';\n                }\n                var n;\n                for (n = 0; n<this.tuplasComentario.length ; n ++){\n                  if (this.tuplasComentario[n][1] == this.comentarios[contador][\"id\"] &&  this.comentarios[contador][\"comment\"] == \"\" && this.tuplasComentario[n][2] ){\n                    this.comentarios[contador][\"comment\"] = this.tuplasComentario[n][0];\n                    this.tuplasComentario[n][2] = false;\n                    \n                  }\n                }\n\n              contador = contador + 1 ;\n              });\n            }\n            \n          })\n\n          /**Se obtienen los viajes organizados por el usuario propietario del perfil. Para ello se emplea\n           * el mtodo getViajesByEmail, del servicio firestoreServiceViaje, que filtra los viajes por\n           * el email del organizador. La variable res sera un array con los viajes del organizador. Para\n           * introducirlos, se hace push sobre el atributo slides, que se emplea en el carrusel de la vista.\n           * Adems se recoge el id del viaje, con la intencin de hacer un LinkedLink.\n           * \n           * De no haber viajes, aparecer una imagen que indica que no hay viajes\n           */\n\n          this.firestoreServiceViaje.getViajesByEmail(this.usuario.email).subscribe(res=>{\n              if(res.length>0){\n                this.susViajes = [];\n                this.slides = []; //esto es para que no aparezca la imagen de no hay viajes si hay viajes\n                var i;\n                for (i = 0; i<res.length ; i++){\n                  this.slides.push({src: res[i].img});\n                  this.susViajes.push(['viaje', res[i].id]);\n                }\n              }else{\n                this.slides = [\n                  { src: \"../../../assets/noViajes.png\"},\n                  \n                ];\n                \n              }\n                \n          })\n          \n        \n          \n        }  \n        );\n    })\n    /**Deben establecerse los permisos de opinin y edicin. Para ello comprobamos los id del usuario\n     * propietario del perfil y el visitante\n    */\n    if (userId != visitanteId){\n      this.activarOpiniones(); //si el usuario est visitando un perfil distinto del suyo, puede comentar y puntuar\n    }else{\n      this.titulo = \"TU PERFIL\";\n      this.activarEdicion(visitanteId); //si el usuario est visitando su perfil, puede editarlo\n    }\n\n    \n\n\n    \n\n    \n   \n\n    \n\n\n  }\n\n  \n  ngOnDestroy()\n  {\n    //this.s_usuarios.unsubscribe();\n  }\n\n\n}\n","<app-header titulo=\"{{titulo}}\"></app-header>\n\n<app-puntuacion-pu id = \"puntuar\" (cerrado)=\"cerrar($event, 'puntuar' )\" (puntuacion)=\"newPuntuacion($event)\" ></app-puntuacion-pu>\n<app-comentario-pu id = \"comentar\" (cerrado)=\"cerrar($event, 'comentar')\" (comentario)=\"newComentario($event)\" ></app-comentario-pu>\n<app-edicion-pu id = \"editar\" user=\"usuario\" descripcion=\"{{descripcion}}\" (cerrado)=\"cerrar($event, 'editar')\" (newDescripcion)=\"setDescripcion($event)\" (foto)=\"setFoto($event)\" (signal)=\"uploadUser($event)\" ></app-edicion-pu>\n<app-mensaje id=\"graciasC\" mensaje=\" Gracias por comentar !\" imagen=\"../../../assets/comment.png\" (cerrado)=\"cerrar($event, 'graciasC')\"></app-mensaje>   \n<app-mensaje id=\"graciasP\" mensaje=\" Gracias por puntuar !\" imagen=\"../../../assets/ok.png\" (cerrado)=\"cerrar($event, 'graciasP')\"></app-mensaje> \n<app-mensaje id=\"editOk\" mensaje=\" Has modificado tu perfil !\"  imagen=\"../../../assets/usuario.png\" (cerrado)=\"cerrar($event, 'editOk')\"></app-mensaje> \n<div id=\"general\">\n   <!-- DATOS -->\n   <div id=\"div1\">\n      <div id=\"tarjeta\">\n         <mat-card>\n         <mat-card-content>   \n            <div class=\"little_container_izq\">\n               \n               <span class=\"name\">{{usuario.nombre}}</span>\n               <img (click)=\"editar()\" id=\"img-editar\" src=\"../../../assets/engranaje.png\" *ngIf=\"permisoEditar\"> \n\n               <div>\n                  <span class=\"texto_perfil\">{{usuario.ubicacion}}</span>\n                  <img src=\"../../../assets/location.png\" style=\"height: 7%; width: 7%;\" >\n               </div>\n            </div>\n            <div class=\"little_container_der\">\n               <img *ngIf=\"usuario.image != ''\" src=\"{{usuario.image}}\" style=\"display: inline-block; max-width: 200px; max-height: 200px; \" >\n               <img *ngIf=\"usuario.image == ''\" src=\"../../../assets/usuario.png\" style=\"display: inline-block; max-width: 100px; max-height: 100px; \">\n            </div>\n            \n            \n         </mat-card-content>\n         </mat-card> \n      </div>\n      \n   </div>\n   <div id=\"div2\">\n      <p class=\"texto\" id=\"myDescripcion\">\n      {{usuario.descripcion}}\n      </p>\n\n      \n   </div>\n   <div id=\"div3\">\n      <div id=\"opinions\">\n         <img src=\"../../../assets/plan.png\" style=\"height: 5%; width: 5%; vertical-align: middle; margin-right: 2%\">\n         <span class=\"bold_text\">{{usuario.tipo}}</span>\n         <br>\n         <br>\n         <!-- STARS -->\n         <p *ngIf=\"usuario.estrellas == '-1'\"> Este usuario no tiene valoraciones an </p>\n         <div class=\"stars\">\n            <span *ngFor=\"let i of Arr(stars).fill(1)\" >\n               <img src=\"../../../assets/star.png\" class=\"llena\" style=\"height: 5%; width: 5%; vertical-align: middle; margin-right: 2%\">\n            </span>  \n            <span *ngFor=\"let i of Arr(emptystars).fill(1)\" >\n               <img src=\"../../../assets/empty_star.png\" class=\"vacia\" style=\"height: 5%; width: 5%; vertical-align: middle; margin-right: 2%;\">    \n            </span> \n            <app-boton *ngIf=\"permisoOpinar\" texto=\"Puntua a este usuario\" (click)=\"puntuar()\"></app-boton>\n         </div>\n         <!--OPINIONES-->\n         <div class=\"titulo-opinion\">\n            <span class=\"name comentarios_usuario\">Los usuarios opinaron:</span>\n            <img src=\"../../../assets/comentario.png\" *ngIf=\"permisoOpinar\" (click)=\"comentar()\">\n         </div>\n         <div class=\"comment\" *ngFor=\"let comment of comentarios\">\n              <div class=\"comment-division-1\">               \n                  <img src= '{{ comment[\"photo\"] }}' [routerLink]=\"[comment['tipo-url'], comment['id'] ]\"  style=\"height: 100%; width: 100%; vertical-align: middle; display: inline-block; \">            \n               </div>\n         \n               <div class=\"comment-division-2\">\n                  <p class=\"bold_text\" style=\"display: inline-block;\">{{ comment[\"person\"]}}</p>   \n                  <p>{{ comment[\"comment\"] }}</p> \n               </div>             \n         </div> \n\n      </div>\n      \n   </div>\n   <!--PAQUETES-->\n   <div id=\"div4\">\n      <span class=\"name viajes_usuario\">Paquetes ofrecidos</span>\n      <div class=\"container_carousel1\">\n         <carousel [slides]=\"slides\" [links]=\"susViajes\"></carousel>\n      </div>\n   </div>\n</div>\n\n\n\n<!--\n\n<div class=\"main_container_izq\">\n   <mat-card>\n      <mat-card-content>\n         \n         <div class=\"little_container_izq\">\n            <span class=\"name\">Alejandro Chamorro</span>\n            <div>\n               <span class=\"texto_perfil\">Hombre</span>\n               <img src=\"../../../assets/person.png\" style=\"height: 7%; width: 7%;\">\n               IF AQUI ENTRE ICONO HOMBRE/MUJER\n            </div>\n            <div>\n               <span class=\"texto_perfil\">27 aos</span>\n            </div>\n            <div>\n               <span class=\"texto_perfil\">Salamanca, Espaa</span>\n               <img src=\"../../../assets/location.png\" style=\"height: 7%; width: 7%;\" >\n            </div>\n         </div>\n         <div class=\"little_container_der\">\n            <img src=\"../../../assets/person-2.jpg\" style=\"display: inline-block; width: 100%; max-height: 300px; \" >\n         </div>\n         \n         \n      </mat-card-content>\n   </mat-card> \n   \n\n</div>\n\n<div class=\"main_container_der\">\n     \n      <p class=\"texto\">\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda vitae iusto non magnam inventore amet sapiente earum minima cum \n      quam fuga voluptatem quae ab sequi quia cupiditate nesciunt, voluptate architecto.\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda vitae iusto non magnam inventore amet sapiente earum minima cum \n      quam fuga voluptatem quae ab sequi quia cupiditate nesciunt, voluptate architecto.\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda vitae iusto non magnam inventore amet sapiente earum minima cum \n      quam fuga voluptatem quae ab sequi quia cupiditate nesciunt, voluptate architecto.\n      </p>\n\n      <span class=\"name\">Viajes del usuario</span>\n      <div class=\"container_carousel1\">\n         <carousel [slides]=\"slides\"></carousel>\n      </div>\n  \n  \n</div>\n\n-->\n\n<!--\n<span style=\"display: inline-block;\">hjfdekfjksj</span>\n<img src=\"../../../assets/person-1.jpg\" style=\"display: inline-block; width: 50%; height: 50%;\" >\n-->","import { Component, OnInit, Input, OnDestroy, ElementRef, ViewChild, NgZone} from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\nimport {UsuarioFirestoreService} from '../../services/firestore/usuario-firestore.service';\nimport {SolicitudFirestoreService} from '../../services/firestore/solicitud-firestore.service';\nimport {OpinionesFirestoreService} from '../../services/firestore/opiniones-firestore.service';\nimport {FirestoreService} from '../../services/firestore/firestore.service';\nimport {Subscription} from 'rxjs';\nimport {Viaje, IViaje} from '../../interfaces/viaje';\nimport {Solicitud, ISolicitud} from '../../interfaces/solicitud';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\nimport { Usuario, IUsuario } from 'src/app/interfaces/usuario';\nimport {IPuntuacion, Puntuacion, IComentario, Comentario} from '../../interfaces/opiniones'\n\n@Component({\n  selector: 'app-perfil-viajero',\n  templateUrl: './perfil-viajero.component.html',\n  styleUrls: ['./perfil-viajero.component.scss']\n})\nexport class PerfilViajeroComponent implements OnInit, OnDestroy {\n\n\n\n  public links: string[];\n\n  @ViewChild('descripcion') newDescripcion;\n  @ViewChild('imageUser') inputImageUser;\n  uploadPercent: Observable<number>;\n  urlImage: Observable<string>;\n  myUrl = \"\";\n  descripcion:string = \"\";\n  titulo = \"VIAJERO\";\n\n  /****usuario****/\n  public usuarios:Usuario[];\n  public s_usuarios:Subscription;\n  usuario:Usuario;\n\n  /**viajes **/\n  actualLink:string;\n  public susViajesId = [\n\n  ];\n  public susViajes = [\n\n  ];\n  //almacena los id\n\n  public slides = [\n    { src: \"../../../assets/noViajes.png\"},\n\n  ];//almacena las imagenes en el formato del carrusel\n\n\n  /****estrellas****/\n  //es necesario recargar para ver la actualizacin de las estrellas porque hay que hacer la media con el resto\n  stars:number = 4;    //Stars of the user\n  Arr = Array;         //Array to print elements\n  maxStars:number = 5; //Maximum of stars\n  emptystars:number = this.maxStars - this.stars;\n\n\n  /****comentarios****/\n  //no es necesario recargar para ver la actualizacin porque solo hay que aadir\n  comentarios = []; //se rellena como un diccionario con los datos de un comentario:\n  //id comentador, comentario, foto comentador, nombre comentador\n\n  tuplasComentario = [];//0:id del comentador, 1:comentario, 3: true si aadir, false si aadido\n\n  /****ediciones ****/\n  nuevaFoto = \"\";\n  nuevaDescripcion = \"\";\n\n  //****permisos****/\n  permisoOpinar = false; //si el usuario tiene permiso para opinar es true\n  permisoEditar = false; //si el usuario tiene permiso para editar es true\n\n\n\n  reload(){\n    window.location.reload();\n    window.scrollTo(0,0);\n  }\n //es necesario activar las opiniones si se quiere comentar y puntuar\n  activarOpiniones(){\n    this.permisoOpinar = true;\n  }\n  //es necesario activar la edicin si se quiere editar la descripcin o la foto de perfil\n  activarEdicion(visitanteId:string){\n    this.permisoEditar = true;\n  }\n\n  //activa el botn de comentarios, es llamada cuando el usuario propietario es distinto del usuario\n  //que accede\n  puntuar(){\n    document.getElementById(\"puntuar\").style.display=\"block\";\n  }\n\n  //resultante del evento cerrar de los componentes pu\n  cerrar(cerrado, id){\n    if (cerrado == true){\n      document.getElementById(id).style.display=\"none\";\n    }\n  }\n\n  //resultante del evento puntuacion del componente hijo puntuacion-pu\n  newPuntuacion(puntos){\n    if(puntos > -1){\n      var puntuacion:Puntuacion = new Puntuacion();\n      puntuacion.puntuacion = puntos.toString();\n      puntuacion.puntuador = localStorage.getItem('usuario');\n      puntuacion.puntuado = this._route.snapshot.paramMap.get('id');\n      this.firestoreServiceOpiniones.createPuntuacion(puntuacion);\n      document.getElementById(\"graciasP\").style.display=\"block\";\n    }document.getElementById(\"puntuar\").style.display=\"none\";\n\n\n  }\n\n  //resultante del evento puntuacion del comentario hijo comentario-pu\n  newComentario(comment){\n    if(comment != \"\"){\n      var comentario:Comentario = new Comentario();\n      comentario.comentario = comment;\n      comentario.comentador = localStorage.getItem('usuario');\n      comentario.comentado = this._route.snapshot.paramMap.get('id');\n      this.firestoreServiceOpiniones.createComentario(comentario);\n      document.getElementById(\"graciasC\").style.display=\"block\";\n    }document.getElementById(\"comentar\").style.display=\"none\";\n\n  }\n\n  //activa el botn de comentarios, es llamada cuando el usuario propietario es distinto del usuario\n  //que accede\n  comentar(){\n    document.getElementById(\"comentar\").style.display=\"block\";\n  }\n\n  //activa el botn de comentarios, es llamada cuando el usuario propietario es el mismo que el usuario\n  //que accede\n  editar(){\n    document.getElementById(\"editar\").style.display=\"block\";\n  }\n\n  //resultante del evento foto del componente edicion-p\n\n  setFoto(foto){\n    this.nuevaFoto = foto;\n    if(this.nuevaFoto != \"\" && this.nuevaFoto != undefined){\n      this.usuario.image = foto;\n\n    }\n\n  }\n  //resultante del evento newDescripcion del componente edicion-p\n  setDescripcion(desc){\n    this.nuevaDescripcion = desc;\n    if(this.nuevaDescripcion != \"\" && this.nuevaDescripcion != undefined){\n      this.usuario.descripcion = desc;\n\n    }\n  }\n\n //resultante del evento signal del componente edicion-pu\n\n  uploadUser(signal){\n\n\n\n    if(this.nuevaFoto != \"\" && this.nuevaFoto != undefined){\n      //alert(this.nuevaFoto);\n\n      this.usuario.image = this.nuevaFoto;\n\n\n\n    }\n    if(this.nuevaDescripcion != \"\" && this.nuevaDescripcion != undefined){\n      //alert(this.nuevaDescripcion);\n      this.usuario.descripcion = this.nuevaDescripcion;\n\n\n    }\n\n    //es necesario crear un objeto para que el set funcione\n\n    var actualizar = {\n      \"id\": this.usuario.id,\n      \"email\": this.usuario.email,\n      \"ubicacion\": this.usuario.ubicacion,\n      \"descripcion\": this.usuario.descripcion,\n      \"tipo\": this.usuario.tipo,\n      \"nombre\": this.usuario.nombre,\n      \"apellidos\": this.usuario.apellidos,\n      \"password\": this.usuario.password,\n      \"estrellas\": this.usuario.estrellas,\n      \"image\": this.usuario.image,\n    }\n\n    this.firestoreServiceUser.updateUsuario(actualizar);\n    document.getElementById(\"editOk\").style.display=\"block\";\n\n    return true;\n\n  }\n\n\n  private db:AngularFirestore;\n  constructor(private _route:ActivatedRoute,\n              private _router: Router,\n              private storage: AngularFireStorage,\n              private firestoreServiceUser: UsuarioFirestoreService,\n              private firestoreServiceViaje: FirestoreService,\n              private firestoreServiceOpiniones: OpinionesFirestoreService,\n              private firestoreServiceSolicitud: SolicitudFirestoreService,\n              private _activatedRoute: ActivatedRoute,\n              private zone: NgZone\n              ) {\n                this.usuarios = [];\n                this.usuario = new Usuario();\n\n\n               }\n\n  ngOnInit(): void {\n\n\n\n\n\n\n\n\n    var visitanteId = localStorage.getItem('usuario'); //hace referencia al usuario que est navegando\n    var userId = this._route.snapshot.paramMap.get('id'); //hace referencia al usuario propietario del perfil\n\n    if(visitanteId == \"null\"){\n      var origin = window.location.origin + '/';\n      var destino = origin + \"page1\";\n      window.location.assign(destino);\n    }\n\n    //utilizo la subscripcin a activatedRoute para que se actualice el pefil de haber cambios en la ruta\n    this._activatedRoute.paramMap.subscribe((params) => {\n      userId = params['id'];\n        //this.reload();\n      if(userId == undefined){\n        userId = this._route.snapshot.paramMap.get('id'); //hace referencia al usuario propietario del perfil;\n      }\n      window.scrollTo(0,0);\n\n        var usuarioAux = this.firestoreServiceUser.getUsuario(userId).then((elem) => {\n\n          /**Se obtiene el usuario propietario del perfil con su id (userId) y se pone el atributo usuario\n           * con los valores correspondientes.\n           * Para eso nos apoyamos de una variable auxiliar usuarioAux, definida como Usuario. Elem ser el\n           * valor devuelto por la funcin getUsuario del servicio firestoreServiceUser\n           */\n          var usuarioAux:Usuario = new Usuario();\n          usuarioAux.id = elem.id;\n          usuarioAux.email = elem.email;\n          usuarioAux.ubicacion = elem.ubicacion;\n          usuarioAux.descripcion = elem.descripcion;\n          this.descripcion = elem.descripcion;\n          usuarioAux.tipo = elem.tipo;\n          usuarioAux.nombre = elem.nombre;\n          usuarioAux.apellidos = elem.apellidos;\n          usuarioAux.password = elem.password;\n          usuarioAux.estrellas = elem.estrellas;\n          usuarioAux.image = elem.image;\n\n          this.usuario = usuarioAux;\n\n          this.firestoreServiceOpiniones.getPuntuacionesFiltered(this.usuario.id).subscribe(res=>{\n            /**Se realiza el proceso de obtencin de puntuaciones. Para ello se buscan todas aquellas\n             * puntuaciones que tengan como valor \"puntuado\" el id del usuario obtenido anteriormente.\n             * Esto se hace mediante el  mtodo getPuntuacionesFiltered del servicio firestoreServiceOpiniones,\n             * que filtra opiniones por el id del usuario puntuado.\n             *\n             * La variable res ser un array que contendr todas las puntuaciones que tengan como\n             * puntuado al usuario propietario del perfil.\n             *\n             * Si no hay puntuaciones, el nmero de estrellas llenas (stars) ser cero, y el de vacas el\n             * mximo. Como no se modifica el parmetro 'estrellas' del usuario propietario del perfil (queda\n             * a -1) se escribir un mensaje \"este usuario no tiene puntuaciones an\"\n             *\n             * Si hay puntuaciones se recorre el array res con un for, se acumulan los valores de dichas\n             * puntuaciones (atributo puntuacin). Finalmente se divide entre el nmero de puntuaciones\n             * (el size de res) para obtener la media. Esta media ser el nmero de estrellas a rellenar,\n             * mientras que las estrellas vacas sern la resta del mximo de estrellas (se ha establecido 5)\n             * y las estrellas llenas. Es importante notar que el atributo \"estrellas\" del usuario propietario\n             * del perfil cambia a 0, por lo que ya no aparecer el mensaje de \"este usuario no tiene\n             * puntuaciones\"\n             *\n             * Para finalizar, se realiza un update del atributo usuario, de forma que la vista muestre los\n             * resultados obtenidos\n             */\n\n\n            if (res.length <= 0){\n              this.stars = 0;\n              this.emptystars = this.maxStars;\n            }else{\n              var i;\n              var media = 0;\n              for (i = 0; i<res.length; i++){\n                media = media + parseInt(res[i].puntuacion);\n\n              }\n              media = Math.round(media/res.length); //es necesario redondear, no podemos rellenar media estrella\n              this.stars = media;\n              this.emptystars = this.maxStars - media;\n              //de esta forma, en el html ya no aparecer el comentario de 'no hay puntuaciones'\n              this.usuario.estrellas = \"0\";\n\n              //se requiere una variable auxiliar para que no salte el error DocumentReference.set() al llamar\n              //a updateUsuario\n\n              var actualizar =\n                {\n                  \"id\": this.usuario.id,\n                  \"email\": this.usuario.email,\n                  \"ubicacion\": this.usuario.ubicacion,\n                  \"descripcion\": this.usuario.descripcion,\n                  \"tipo\": this.usuario.tipo,\n                  \"nombre\": this.usuario.nombre,\n                  \"apellidos\": this.usuario.apellidos,\n                  \"password\": this.usuario.password,\n                  \"estrellas\": this.usuario.estrellas,\n                  \"image\": this.usuario.image\n                }\n\n\n\n\n              this.firestoreServiceUser.updateUsuario(actualizar);\n            }\n          });\n\n          this.firestoreServiceOpiniones.getComentariosFiltered(this.usuario.id).subscribe(res=>{\n            /**Se obtienen los comentarios que tienen como atributo \"comentado\" al usuario propietario\n             * del perfil. Para ello se emplea el mtodo getComentariosFiltered del servicio\n             * firestoreServiceOpiniones, que filtra los comentarios por el id del comentado.\n             *\n             * Guardamos los comentarios en un diccionario, definido arriba como atributo,\n             * que tendr los siguientes parmetros:\n             * id del comentador, foto del comentador (photo), nombre del comentador (person) y comentario\n             * (comment)\n             *\n             * Una vez tenemos el comentario, habiendo usado la funcin getComentariosFiltered, podemos usar\n             * el id del comentador para obtener sus datos desde la tabla Usuario. Para ello empleamos\n             * el mtodo getUsuario del servicio firestoreServiceUser, donde elem ser el usuario coincidente\n             * con el id del comentador\n             *\n             * Es importante notar que la obtencin del comentario y la obtencin del usuario se hacen en\n             * espacios temporales diferentes. Es por ello que los comentarios se almacenan junto con el id\n             * del comentador en un array auxiliar de tuplas <comentario, idComentador>. Cuando se han metido\n             * todos los comentadores en el diccionario, se emplea la informacin del array auxiliar para\n             * meter tambin los comentarios.\n             *\n             * Las comprobaciones hechas al meter un comentario en el diccionario permiten que:\n             *  -Un usuario pueda hacer varios comentarios\n             *  -Todas las entradas del diccionario tengan un comentario\n             */\n            this.comentarios = [];\n            var i;\n            for (i = 0; i<res.length ; i++){\n              this.comentarios.push({\n                    \"id\":\"\",\n                    \"photo\": \"\",\n                    \"person\": \"\",\n                    \"comment\": \"\",\n                    \"tipo-url\": \"\"\n              },)\n\n\n            }\n            var comment;\n            var img;\n            var nombre;\n            var idUser;\n            var tipo;\n            for (i = 0; i<res.length ; i++){\n              comment = res[i].comentario;\n              this.tuplasComentario.push([comment, res[i].comentador, true]);\n\n              var contador = 0;\n              var usuarioAux = this.firestoreServiceUser.getUsuario(res[i].comentador).then((elem) => {\n\n                img = elem.image;\n                this.comentarios[contador][\"photo\"] = img;\n\n                nombre = elem.nombre;\n                this.comentarios[contador][\"person\"] = nombre;\n\n                idUser = elem.id;\n                this.comentarios[contador][\"id\"] = idUser;\n\n                tipo = elem.tipo;\n\n                if(tipo == 'organizador'){\n                  this.comentarios[contador][\"tipo-url\"] = '/perfil-organizador/';\n                }else{\n                  this.comentarios[contador][\"tipo-url\"] = '/perfil-viajero/';\n                }\n                var n;\n                for (n = 0; n<this.tuplasComentario.length ; n ++){\n                  if (this.tuplasComentario[n][1] == this.comentarios[contador][\"id\"] &&  this.comentarios[contador][\"comment\"] == \"\" && this.tuplasComentario[n][2] ){\n                    this.comentarios[contador][\"comment\"] = this.tuplasComentario[n][0];\n                    this.tuplasComentario[n][2] = false;\n\n                  }\n                }\n\n              contador = contador + 1 ;\n              });\n            }\n\n          })\n\n          /**Se obtienen los viajes organizados por el usuario propietario del perfil. Para ello se emplea\n           * el mtodo getViajesByEmail, del servicio firestoreServiceViaje, que filtra los viajes por\n           * el email del organizador. La variable res sera un array con los viajes del organizador. Para\n           * introducirlos, se hace push sobre el atributo slides, que se emplea en el carrusel de la vista.\n           * Adems se recoge el id del viaje, con la intencin de hacer un LinkedLink.\n           *\n           * De no haber viajes, aparecer una imagen que indica que no hay viajes\n           */\n          this.firestoreServiceSolicitud.getSolicitudesByUserId(userId).subscribe(res=>{\n              var viajes = [];\n              if(res.length <= 0){\n                this.slides = [\n                  { src: \"../../../assets/noViajes.png\"},\n\n                ];\n              }else{\n\n                var i;\n                for ( i = 0; i<res.length ; i++){\n                  viajes.push(res[i].idViaje);\n                }\n\n\n\n              }\n\n              if(viajes.length > 0){\n                this.slides = [];\n                for (i=0; i<viajes.length ; i++){\n\n                  if(res[i].estado != \"pendiente\" && res[i].estado != \"rechazado\" ){\n                      this.firestoreServiceViaje.getViaje(viajes[i]).then(elem =>{\n\n                        this.slides.push({src: elem.img});\n                        this.susViajes.push(['viaje', elem.id]);\n\n                      });\n                    }\n                }\n\n              }\n          })\n\n\n\n\n        }\n        );\n    })\n    /**Deben establecerse los permisos de opinin y edicin. Para ello comprobamos los id del usuario\n     * propietario del perfil y el visitante\n    */\n    if (userId != visitanteId){\n      this.activarOpiniones(); //si el usuario est visitando un perfil distinto del suyo, puede comentar y puntuar\n    }else{\n      this.titulo = \"TU PERFIL\";\n      this.activarEdicion(visitanteId); //si el usuario est visitando su perfil, puede editarlo\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n  }\n\n\n  ngOnDestroy()\n  {\n    //this.s_usuarios.unsubscribe();\n  }\n\n\n}\n","<app-header titulo=\"{{titulo}}\"></app-header>\n\n<app-puntuacion-pu id = \"puntuar\" (cerrado)=\"cerrar($event, 'puntuar' )\" (puntuacion)=\"newPuntuacion($event)\" ></app-puntuacion-pu>\n<app-comentario-pu id = \"comentar\" (cerrado)=\"cerrar($event, 'comentar')\" (comentario)=\"newComentario($event)\" ></app-comentario-pu>\n<app-edicion-pu id = \"editar\" user=\"usuario\" descripcion=\"{{descripcion}}\" (cerrado)=\"cerrar($event, 'editar')\" (newDescripcion)=\"setDescripcion($event)\" (foto)=\"setFoto($event)\" (signal)=\"uploadUser($event)\" ></app-edicion-pu>\n<app-mensaje id=\"graciasC\" mensaje=\" Gracias por comentar !\" imagen=\"../../../assets/comment.png\" (cerrado)=\"cerrar($event, 'graciasC')\"></app-mensaje>\n<app-mensaje id=\"graciasP\" mensaje=\" Gracias por puntuar !\" imagen=\"../../../assets/ok.png\" (cerrado)=\"cerrar($event, 'graciasP')\"></app-mensaje>\n<app-mensaje id=\"editOk\" mensaje=\" Has modificado tu perfil !\"  imagen=\"../../../assets/usuario.png\" (cerrado)=\"cerrar($event, 'editOk')\"></app-mensaje>\n<div id=\"general\">\n\n   <!-- DATOS -->\n   <div id=\"div1\">\n      <div id=\"tarjeta\">\n         <mat-card>\n         <mat-card-content>\n            <div class=\"little_container_izq\">\n\n               <span class=\"name\">{{usuario.nombre}}</span>\n               <img (click)=\"editar()\" id=\"img-editar\" src=\"../../../assets/engranaje.png\" *ngIf=\"permisoEditar\">\n\n               <div>\n                  <span class=\"texto_perfil\">{{usuario.ubicacion}}</span>\n                  <img src=\"../../../assets/location.png\" style=\"height: 7%; width: 7%;\" >\n               </div>\n            </div>\n            <div class=\"little_container_der\">\n               <img *ngIf=\"usuario.image != ''\" src=\"{{usuario.image}}\" style=\"display: inline-block; max-width: 200px; max-height: 200px; \" >\n               <img *ngIf=\"usuario.image == ''\" src=\"../../../assets/usuario.png\" style=\"display: inline-block; max-width: 100px; max-height: 100px; \">\n            </div>\n\n\n         </mat-card-content>\n         </mat-card>\n      </div>\n\n   </div>\n   <div id=\"div2\">\n      <p class=\"texto\" id=\"myDescripcion\">\n      {{usuario.descripcion}}\n      </p>\n\n\n   </div>\n   <div id=\"div3\">\n      <div id=\"opinions\">\n         <img src=\"../../../assets/telegram.png\" style=\"height: 5%; width: 5%; vertical-align: middle; margin-right: 2%\">\n         <span class=\"bold_text\">{{usuario.tipo}}</span>\n         <br>\n         <br>\n         <!-- STARS -->\n         <p *ngIf=\"usuario.estrellas == '-1'\"> Este usuario no tiene valoraciones an </p>\n         <div class=\"stars\">\n            <span *ngFor=\"let i of Arr(stars).fill(1)\" >\n               <img src=\"../../../assets/star.png\" class=\"llena\" style=\"height: 5%; width: 5%; vertical-align: middle; margin-right: 2%\">\n            </span>\n            <span *ngFor=\"let i of Arr(emptystars).fill(1)\" >\n               <img src=\"../../../assets/empty_star.png\" class=\"vacia\" style=\"height: 5%; width: 5%; vertical-align: middle; margin-right: 2%;\">\n            </span>\n            <app-boton *ngIf=\"permisoOpinar\" texto=\"Puntua a este usuario\" (click)=\"puntuar()\"></app-boton>\n         </div>\n         <!--OPINIONES-->\n         <div class=\"titulo-opinion\">\n            <span class=\"name comentarios_usuario\">Los usuarios opinaron:</span>\n            <img src=\"../../../assets/comentario.png\" *ngIf=\"permisoOpinar\" (click)=\"comentar()\">\n         </div>\n         <div class=\"comment\" *ngFor=\"let comment of comentarios\">\n              <div class=\"comment-division-1\">\n                  <img src= '{{ comment[\"photo\"] }}' [routerLink]=\"[comment['tipo-url'], comment['id'] ]\"  style=\"height: 100%; width: 100%; vertical-align: middle; display: inline-block; \">\n               </div>\n\n               <div class=\"comment-division-2\">\n                  <p class=\"bold_text\" style=\"display: inline-block;\">{{ comment[\"person\"]}}</p>\n                  <p>{{ comment[\"comment\"] }}</p>\n               </div>\n         </div>\n\n      </div>\n\n   </div>\n   <!--VIAJES-->\n   <div id=\"div4\">\n      <span class=\"name viajes_usuario\">Viajes del usuario</span>\n      <div class=\"container_carousel1\">\n         <carousel [slides]=\"slides\" [links]=\"susViajes\"></carousel>\n      </div>\n   </div>\n</div>\n\n\n\n<!--\n\n<div class=\"main_container_izq\">\n   <mat-card>\n      <mat-card-content>\n\n         <div class=\"little_container_izq\">\n            <span class=\"name\">Alejandro Chamorro</span>\n            <div>\n               <span class=\"texto_perfil\">Hombre</span>\n               <img src=\"../../../assets/person.png\" style=\"height: 7%; width: 7%;\">\n               IF AQUI ENTRE ICONO HOMBRE/MUJER\n            </div>\n            <div>\n               <span class=\"texto_perfil\">27 aos</span>\n            </div>\n            <div>\n               <span class=\"texto_perfil\">Salamanca, Espaa</span>\n               <img src=\"../../../assets/location.png\" style=\"height: 7%; width: 7%;\" >\n            </div>\n         </div>\n         <div class=\"little_container_der\">\n            <img src=\"../../../assets/person-2.jpg\" style=\"display: inline-block; width: 100%; max-height: 300px; \" >\n         </div>\n\n\n      </mat-card-content>\n   </mat-card>\n\n\n</div>\n\n<div class=\"main_container_der\">\n\n      <p class=\"texto\">\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda vitae iusto non magnam inventore amet sapiente earum minima cum\n      quam fuga voluptatem quae ab sequi quia cupiditate nesciunt, voluptate architecto.\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda vitae iusto non magnam inventore amet sapiente earum minima cum\n      quam fuga voluptatem quae ab sequi quia cupiditate nesciunt, voluptate architecto.\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda vitae iusto non magnam inventore amet sapiente earum minima cum\n      quam fuga voluptatem quae ab sequi quia cupiditate nesciunt, voluptate architecto.\n      </p>\n\n      <span class=\"name\">Viajes del usuario</span>\n      <div class=\"container_carousel1\">\n         <carousel [slides]=\"slides\"></carousel>\n      </div>\n\n\n</div>\n\n-->\n\n<!--\n<span style=\"display: inline-block;\">hjfdekfjksj</span>\n<img src=\"../../../assets/person-1.jpg\" style=\"display: inline-block; width: 50%; height: 50%;\" >\n-->\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-privacidad',\n  templateUrl: './privacidad.component.html',\n  styleUrls: ['./privacidad.component.scss']\n})\nexport class PrivacidadComponent implements OnInit {\n  \n  constructor() { }\n\n\n  ngOnInit(): void {\n  }\n\n  scroll(el: HTMLElement) {\n    el.scrollIntoView({behavior: 'smooth'});\n  }\n\n}\n","<app-header titulo=\"Poltica de Privacidad\"></app-header>\n\n<h1 class=\"title\">Nuestra poltica de privacidad</h1>\n<div class=\"politica\">\n    <h1 #t0>Introduccin</h1>\n    <p>\n        Tal y como mencionamos en nuestras  3 Leyes de proteccin de datos, nos comprometemos a proteger la privacidad \n        de sus datos. Esta Poltica de privacidad explica ms concretamente qu informacin Tripmefy Corporation y sus \n        Empresas del Grupo recopilan de los Titulares de cuenta y Usuarios finales (\"usted\") a travs de los sitios web \n        y aplicaciones de Tripmefy, a los cuales nos referimos colectivamente como \"el Servicio\". El Servicio incluye el Software tripmefy.\n    </p>\n\n    <p>\n        Tenga en cuenta que si utiliza Trimefy como viajero, usted es el Titular de la cuenta y el Usuario final de una cuenta del \n        servicio de Tripmefy. Si utiliza Tripmefy como organizador, el Titular de la cuenta es el Cliente que ha contratado \n        Tripmefy. Puede encontrar la definicin de estos y otros trminos utilizados en esta poltica en el Glosario al final de esta pgina.\n    </p>\n\n    <p>\n        Aunque es poco frecuente que se produzcan cambios, esta poltica se puede modificar a medida que aparezcan nuevas \n        funciones, tecnologa o requisitos legales, de modo que le recomendamos que los compruebe ocasionalmente. Si \n        realizamos algn cambio significativo, le notificaremos y, en caso necesario, solicitaremos su consentimiento. \n    </p>\n\n    <h1 #t1>Qu tipo de informacin recoge Tripmefy? </h1>\n\n    <p>\n        Creamos Tripmefy para ayudarle a crear paquetes de viajes y as poder acercarse ms al usuario . \n        Eso significa que puede introducir, cargar o almacenar en Tripmefy cualquier texto, imagen y otros datos \n        que desee; nos referimos a esa informacin como \"Contenido\". Tambin recopilamos y recibimos los siguientes \n        tipos de informacin:\n    </p>\n\n    <ul>\n        <li><b>Informacin bsica sobre suscriptores.</b> Para abrir su cuenta y procesar pagos, recopilamos y \n            recibimos informacin bsica como su direccin de correo electrnico y, en funcin de cmo compre,\n            su direccin de facturacin y otra informacin de pago. </li>\n        <li><b>Datos de uso.</b> Recopilamos y registramos datos sobre cmo usted y otros usuarios acceden y \n            utilizan Tripmefy, por ejemplo, la accin de crear o compartir un viaje. Los datos de uso se pueden \n            recopilar a travs de cookies y tecnologas similares. Para obtener ms informacin, incluida la forma de\n            desactivacin, visite nuestra pgina de Informacin de Cookies. </li>\n        <li><b>Informacin de ubicacin.</b> Recopilamos la direccin IP que utiliza para conectarse al Servicio y, \n            si decide compartirla, la informacin de su ubicacin desde un dispositivo mvil. </li>\n        <li><b>Informacin del dispositivo.</b> Recopilamos informacin sobre el nmero y el tipo de dispositivos\n            que utiliza para conectarse al Servicio, as como informacin sobre los sistemas operativos de esos \n            dispositivos (p. ej., iOS, Android, Windows). Obtenga ms informacin sobre los datos que recopilan nuestras \n            aplicaciones de su dispositivo en nuestra pgina de Uso de datos.</li>\n    </ul>\n\n    <h1 #t2>Cmo utiliza Tripmefy mi informacin?</h1>\n\n        <p>Tenemos normas concretas sobre cmo y cundo utilizamos la informacin que recopilamos y recibimos. \n            Las describimos a continuacin.</p>\n\n        <h3><b>Qu hace Tripmefy con mi informacin?</b></h3>\n            <p>Nos comprometemos a proteger la privacidad de su informacin. A continuacin, \n                describimos las formas en que utilizamos la informacin que recopilamos y recibimos para proporcionar, \n                mantener y mejorar el Servicio; con el fin de ofrecer solucin a los problemas y dar asistencia a los \n                clientes; para proteger el Servicio para todos nuestros usuarios; para ponernos en contacto con usted; \n                y para administrar las cuentas de Tripmefy Business.&nbsp;</p>\n            <ul>\n                <li>Utilizamos una serie de tecnologas para ayudarle a sacar el mximo provecho del Servicio.\n                    Nuestros sistemas analizan automticamente sus datos con el fin de potenciar las funciones de \n                    Tripmefy y para mejorar continuamente el Servicio de una forma que no requiera que nadie vea su \n                    Contenido. Esto puede incluir, por ejemplo:</li>\n                <ul>\n                    <li>Asegurarnos de que encuentra lo que necesita cuando busca en su cuenta.</li>\n                    <li>Mostrndole la informacin ms relevante segn como est o pueda estar utilizando el \n                        Servicio en el momento y/o lugar concreto;</li>\n                    <li>Sugerir las acciones que puede realizar en funcin de la \n                        informacin que ha almacenado.</li>\n                    <li>Sugirindole funciones o productos del servicio de Tripmefy que consideramos que le ayudarn a sacar el mximo provecho de nuestro Servicio.</li>\n                    <li>Para usuarios de Tripmefy Business, recomendar personas con las que puede colaborar.</li>\n                </ul>\n            </ul>\n            <ul>\n                <li>Con el fin de ofrecer solucin a los problemas y dar asistencia a los clientes, \n                    es posible que nuestro equipo de Atencin al cliente necesite acceder a su informacin, \n                    como la direccin de correo electrnico de su cuenta e informacin sobre la aplicacin Tripmefy \n                    que est utilizando, sujeto a las protecciones que se describen a continuacin. &nbsp;</li>\n                <li>Como parte de nuestros esfuerzos para proteger su cuenta y la funcionalidad del Servicio, \n                    nuestros sistemas automatizados pueden analizar los mensajes de correo electrnico que enve a\n                    y desde su cuenta de Tripmefy y las notas que comparte para detectar spam, malware u otros posibles \n                    problemas de seguridad. Si determinamos que dicho material constituye una violacin de los \n                    Trminos de Servicio o Guas de usuario, podemos bloquear la entrega o detener el uso compartido del \n                    material problemtico, tal y como funciona un filtro de correo no deseado en su bandeja de entrada \n                    del correo electrnico. Obtenga ms informacinsobre los pasos que puede seguir para proteger su cuenta, \n                    como el uso de contraseas seguras, verificacin en dos pasos y cifrado.</li>\n                <li>De acuerdo con sus preferencias de comunicacin, nos pondremos en contacto con usted ocasionalmente \n                    para anunciar nuevos productos y funciones que creamos para usted, compartir consejos para utilizar \n                    Tripmefy y hacer ms cosas, ofrecer ofertas especiales y proporcionar informacin sobre cmo funciona \n                    Tripmefy con productos y servicios de nuestros socios comerciales.</li>\n            </ul>\n\n    \n    <h1 #t3>Alguien de Tripmefy podra ver alguna vez mi Contenido?</h1>\n        <p>\n            Usted tiene el control sobre quin ve su Contenido. Limitamos el uso de su Contenido \n            para asegurarnos de que nadie de Tripmefy pueda verlo, a menos que usted nos d permiso expreso o \n            que sea necesario para cumplir con nuestras obligaciones legales. Concretamente:\n            \n            Para ayudar a refinar o mejorar la tecnologa, podemos pedirle permiso para revisar partes de su \n            Contenido. Por ejemplo, si una nueva funcin sugiere notas relacionadas que son relevantes para su \n            Contenido, podemos darle la oportunidad de proporcionarnos comentarios sobre cmo funciona la funcin\n            junto con una muestra del Contenido en cuestin, con el fin de que podamos asegurarnos de que la funcin \n            proporciona sugerencias adaptadas de forma adecuada. Dicho acceso a su Contenido se produce nicamente \n            con su permiso expreso y est sujeto a estrictas normas de confidencialidad y controles de acceso a datos. \n            Tomar la decisin de darnos este permiso es completamente voluntario.\n            Si se pone en contacto con nuestro equipo de Atencin al cliente para obtener ayuda con partes concretas \n            del Contenido en su cuenta (por ejemplo, si no puede encontrar una nota que cree que debera estar en su \n            cuenta), pedirles posible que le pidamos permiso temporal para mirar su Contenido. Este permiso finaliza en \n            el momento en que se resuelve el problema.\n        </p>\n\n    \n    <h1 #t4>Cmo responde Tripmefy a las solicitudes legales de mi informacin?</h1>\n        <p>\n            Protegemos cuidadosamente la privacidad de su cuenta. No divulgaremos su informacin a \n            las autoridades policiales u otras autoridades gubernamentales a menos que consideremos \n            que sea necesario para cumplir las rdenes, rdenes judiciales, citaciones u otras solicitudes \n            legales del gobierno. Esto puede incluir responder a solicitudes legales de jurisdicciones fuera \n            de Espaa si consideramos de buena fe que la ley exige la respuesta en esa jurisdiccin, \n            afecta a los usuarios en esa jurisdiccin y es coherente con las normas bsicas internacionalmente \n            reconocidas.\n        </p>\n        <p>\n            Interpretamos de manera estricta todas las solicitudes de informacin, y solo revelamos \n            el Contenido de su cuenta que atienda especficamente a una orden del gobierno o si ha \n            brindado su consentimiento explcito. De acuerdo con nuestra poltica de notificacin a \n            usuarios, le comunicaremos si creemos que estamos obligados a cumplir una demanda legal de un \n            tercero de su informacin, y rutinariamente rechazaremos las directivas de gobierno sobre el \n            retraso de la notificacin a usuarios que consideremos demasiado generales. Puede encontrar \n            ms informacin en nuestro Informe de transparencia actual.\n        </p>\n        <p>\n            Adems, en raras ocasiones es posible que compartamos su informacin segn sea necesario para investigar \n            o tomar acciones respecto a actividades ilegales, presunto fraude o amenazas potenciales contra personas,\n             propiedad o sistemas de quienes trabajamos en el Servicio, o segn sea necesario con el fin de \n             cumplir nuestras obligaciones legales.</p>\n\n    <h1 #t5>Cmo puedo gestionar mi informacin almacenada en Tripmefy?</h1>\n        <p>\n            De acuerdo con nuestra primera ley de proteccin de datos, sus datos le pertenecen y en la mayora \n            de los casos puede gestionar su informacin simplemente accediendo a su cuenta y editando su informacin \n            directamente dentro del servicio de Tripmefy.</p>\n        <p>\n            Sin embargo, si lo prefiere, puede ponerse en contacto con nosotros escribiendo a atencion@Tripmefy.com\n            para solicitarnos que proporcionemos acceso, corrijamos, actualicemos o eliminemos su informacin personal. \n            Tenga en cuenta que posiblemente le solicitemos un comprobante de identidad y/o propiedad de la cuenta antes \n            de completar su solicitud. Cumpliremos dichas solicitudes en la medida requerida por la ley aplicable o por el \n            Escudo de Privacidad de Espaa.\n        </p>\n        \n</div>\n\n\n<div class=\"right-menu\">\n    <ul>\n    <a (click)=\"scroll(t0)\"><li>Introduccin</li></a> <hr>\n    <a (click)=\"scroll(t1)\"><li>Qu tipo de informacin recoge Tripmefy?</li></a> <hr>\n    <a (click)=\"scroll(t2)\"><li>Cmo utiliza Tripmefy mi informacin?</li></a> <hr>\n    <a (click)=\"scroll(t3)\"><li>Alguien de Tripmefy podra ver alguna vez mi Contenido?</li></a> <hr>\n    <a (click)=\"scroll(t4)\"><li>Cmo responde Tripmefy a las solicitudes legales de mi informacin?</li></a> <hr>\n    <a (click)=\"scroll(t5)\"><li>Cmo puedo gestionar mi informacin almacenada en Tripmefy?</li></a>\n    </ul>   \n</div>\n\n<app-scroll-top></app-scroll-top>\n<app-footer></app-footer>","import { Component, OnInit, Input, OnDestroy, ElementRef, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\nimport {FirestoreService} from '../services/firestore/firestore.service';\nimport {Subscription} from 'rxjs';\nimport {Viaje, IViaje} from '../interfaces/viaje';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport {finalize} from 'rxjs/operators';\nimport { FormsModule } from '@angular/forms';\n//import { EventEmitter } from 'protractor';\n\n@Component({\n  selector: 'app-pruebas',\n  templateUrl: './pruebas.component.html',\n  styleUrls: ['./pruebas.component.scss']\n})\nexport class PruebasComponent implements OnInit {\n\n  constructor(private _route:ActivatedRoute,\n    private _router: Router,\n    private storage: AngularFireStorage,\n    private firestoreService: FirestoreService\n    ) {\n      \n     }\n\n  ngOnInit(): void {\n  }\n\n  crearViaje(e){\n    console.log(\"entra\");\n    var viaje:Viaje = new Viaje();\n    viaje.pais = \"Alemania\"\n    viaje.ciudad = \"Berln\";\n    viaje.continente = \"Europa\";\n    viaje.email = \"emailinventado@gmail.com\";\n    viaje.img = e;\n    this.firestoreService.createViaje(viaje);\n\n  } \n\n}\n","<app-header titulo=\"pruebas\"></app-header>\n<app-pedir-imagen (url)=\"crearViaje($event)\"></app-pedir-imagen>\n","import { UsuarioFirestoreService } from './../services/firestore/usuario-firestore.service';\nimport { Usuario } from './../interfaces/usuario';\nimport { Router } from '@angular/router'; //Para redirigir a una pgina\nimport { AuthService } from './../services/auth.service'; //para registro en base de datos\nimport { Component, OnInit, Input} from '@angular/core';\nimport { FormControl, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\n\n/** Error when invalid control is dirty, touched, or submitted. */\nexport class MyErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const isSubmitted = form && form.submitted;\n    return !!(control && control.invalid && (control.dirty || control.touched || isSubmitted));\n  }\n}\n\n@Component({\n  selector: 'app-registro',\n  templateUrl: './registro.component.html',\n  styleUrls: ['./registro.component.scss']\n})\nexport class RegistroComponent implements OnInit {\n\n  hide = true;\n  checked = false;\n  labelPosition: 'before' | 'after' = 'after';\n  @Input() public error:string; \n\n  constructor(private route: Router, private authService: AuthService, private userService: UsuarioFirestoreService) { \n    this.error = \"\";\n  }\n\n  public nombre: string = '';\n  public apellido: string = '';\n  public email: string = '';\n  public password: string = '';\n  public password2: string = '';\n  public tipo: string = '';\n  public poblacion: string = '';\n  public pais: string = '';\n  public terminos: boolean = false;\n\n  ngOnInit(): void {\n  }\n\n  back(){\n    this.route.navigate(['/page1']);\n  }\n  \n  onRegister(){\n    \n    document.getElementById(\"password1\").style.color=\"white\";\n    document.getElementById(\"password2\").style.color=\"white\";\n    document.getElementById(\"email\").style.color=\"white\";\n\n    this.authService.registerUser(this.email, this.password) //almacenamos el usuario de registro en la bbdd (email y contrasea)\n    .then((res)=> {\n      var usuario:Usuario = new Usuario();\n      usuario.nombre = this.nombre;\n      usuario.apellidos = this.apellido;\n      usuario.email = this.email;\n      usuario.password = this.password;\n      usuario.tipo = this.tipo;\n      usuario.image = \"\";\n      usuario.descripcion = \"\";\n      usuario.ubicacion = this.MaysPrimera(this.poblacion.toLowerCase()) + \", \" + this.MaysPrimera(this.pais.toLowerCase());\n      this.userService.createUsuario(usuario);\n      \n      localStorage.setItem('tipo', this.tipo);\n\n      this.route.navigate(['/bienvenida']);\n\n    }).catch(err => {\n      document.getElementById(\"error5\").style.display=\"block\";      \n      document.getElementById(\"error1\").style.display=\"none\";\n      document.getElementById(\"error2\").style.display=\"none\";\n      document.getElementById(\"error3\").style.display=\"none\";\n      document.getElementById(\"error4\").style.display=\"none\";\n      document.getElementById(\"email\").style.color=\"red\";\n    });\n  }\n\n  checkFields(){\n    if (this.nombre==='' || this.apellido==='' || this.email==='' || this.password==='' || \n    this.password2==='' || this.poblacion==='' || this.pais==='' || this.tipo==='' || !this.terminos ){\n      document.getElementById(\"password1\").style.color=\"white\";\n      document.getElementById(\"password2\").style.color=\"white\";\n      document.getElementById(\"error1\").style.display=\"block\";\n      document.getElementById(\"error2\").style.display=\"none\";\n      document.getElementById(\"error3\").style.display=\"none\";\n      document.getElementById(\"error4\").style.display=\"none\";\n      document.getElementById(\"error5\").style.display=\"none\";\n\n      return true;\n    }else if(this.password.localeCompare(this.password2) != 0){\n      document.getElementById(\"password1\").style.color=\"red\";\n      document.getElementById(\"password2\").style.color=\"red\";\n      document.getElementById(\"error1\").style.display=\"none\";\n      document.getElementById(\"error2\").style.display=\"none\";\n      document.getElementById(\"error3\").style.display=\"none\";\n      document.getElementById(\"error4\").style.display=\"block\";\n      document.getElementById(\"error5\").style.display=\"none\";\n\n        return true;\n    }else if(this.password.length<8){\n      document.getElementById(\"error1\").style.display=\"none\";\n      document.getElementById(\"error2\").style.display=\"block\";\n      document.getElementById(\"error3\").style.display=\"none\";\n      document.getElementById(\"error4\").style.display=\"none\";\n      document.getElementById(\"error5\").style.display=\"none\";\n\n      return true;\n    }else if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.([a-zA-Z]{2,4})+$/.test(this.email) ){\n      document.getElementById(\"error1\").style.display=\"none\";\n      document.getElementById(\"error2\").style.display=\"none\";\n      document.getElementById(\"error3\").style.display=\"block\";\n      document.getElementById(\"error4\").style.display=\"none\";\n      document.getElementById(\"error5\").style.display=\"none\";\n      \n      return true;\n    }else{\n        document.getElementById(\"password1\").style.color=\"white\";\n        document.getElementById(\"password2\").style.color=\"white\";\n        document.getElementById(\"error1\").style.display=\"none\";\n        document.getElementById(\"error2\").style.display=\"none\";\n        document.getElementById(\"error3\").style.display=\"none\";\n        document.getElementById(\"error4\").style.display=\"none\";\n        document.getElementById(\"error5\").style.display=\"none\";\n\n        return false;\n    } \n  }\n\n  MaysPrimera(string){\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  emailFormControl = new FormControl('', [\n    Validators.required,\n    Validators.email,\n  ]);\n\n  nombreFormControl = new FormControl('', [\n    Validators.required,\n  ]);\n\n  apellidoFormControl = new FormControl('', [\n    Validators.required,\n  ]);\n\n  poblacionFormControl = new FormControl('', [\n    Validators.required,\n  ]);\n  paisFormControl = new FormControl('', [\n    Validators.required,\n  ]);\n\n  passwordFormControl = new FormControl('', [\n    Validators.required,\n  ]);\n\n  password2FormControl = new FormControl('', [\n    Validators.required,\n  ]);\n\n  \n\n\n  matcher = new MyErrorStateMatcher();\n\n\n}\n","<div class=\"contenedor\">\n  <div class=\"lateral-izq\">\n      \n      <img src='../../assets/tripmefy.png'>\n     \n\n  </div>\n  \n  <div class=\"lateral-drch\">\n    <app-volver class=\"volver\" (click)='back()'></app-volver>\n    <h1>REGISTRO</h1>\n    \n    <form  (ngSubmit)=\"onRegister()\">\n      <div class=\"registro_datos\">\n        <div id=\"error1\"><p>Introduce los campos obligatorios</p></div>\n        <div id=\"error2\"><p>Introduce una contrasea de 8 caracteres</p></div>\n        <div id=\"error3\"><p>Introduce el email en el formato correcto example@examle.com</p></div>\n        <div id=\"error4\"><p>Las contraseas no coinciden</p></div>\n        <div id=\"error5\"><p>El email ya existe</p></div>\n\n\n        <div class=\"grupo-inputs\" >\n          <mat-form-field class=\"input\">  <!--Pide el nombre-->\n            <mat-label>Nombre</mat-label>\n            <input matInput [(ngModel)]=\"nombre\" name=\"nombre\" required>   \n          </mat-form-field>\n          \n          <mat-form-field class=\"input\"> <!--Pide el apellido-->\n            <mat-label>Apellido</mat-label>\n            <input matInput [(ngModel)]=\"apellido\" name=\"apellido\"   required>\n          </mat-form-field>\n        </div> <!-- Fin grupo inputs-->\n  \n        <br>\n  \n        <div class=\"grupo-inputs\">\n          <mat-form-field class=\"input\">  <!--Pide la poblacin-->\n            <mat-label>Poblacin</mat-label>\n            <input matInput [(ngModel)]=\"poblacion\" name=\"polacion\"  required> \n          </mat-form-field>\n  \n          <mat-form-field class=\"input\"> <!--Pide el pas-->\n            <mat-label>Pas</mat-label>\n            <input matInput [(ngModel)]=\"pais\" name=\"pais\"  required>\n          </mat-form-field>\n        </div> <!-- Fin grupo inputs-->\n  \n        <br>\n  \n        <mat-form-field class=\"email input\"> <!--Pide el email-->\n          <mat-label>Email</mat-label>\n          <input id=\"email\" matInput  type=\"email\" placeholder=\"Ej. pat@example.com\" [(ngModel)]=\"email\" name=\"email\" required>\n        </mat-form-field>\n        \n        <br>\n  \n        \n        <mat-form-field class=\"input\" appearance=\"fill\" > <!--Pide la contrasea-->\n          \n          <mat-label>Introduce tu contrasea</mat-label>\n          <input id=\"password1\" matInput [(ngModel)]=\"password\" name=\"password\"  [type]=\"hide ? 'password' : 'text'\"  \n          required>\n          <button  mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\" [attr.aria-pressed]=\"hide\">\n          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n          </button>\n        </mat-form-field>\n          \n        <br>\n        <mat-form-field class=\"input\" appearance=\"fill\"> <!--Pide la contrasea de comprobacin -->\n          \n\n          <mat-label>Confirma la contrasea</mat-label>\n          <input id=\"password2\" matInput [(ngModel)]=\"password2\" name=\"password2\" [type]=\"hide ? 'password' : 'text'\" required>\n          <button  mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\" [attr.aria-pressed]=\"hide\">\n          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n          </button>\n        </mat-form-field>\n      </div> <!-- Fin grupo registro datos-->\n\n\n      <section class=\"checkbox\"> <!--Pide el usuario-->\n        <mat-radio-group [(ngModel)]=\"tipo\" name=\"tipo\">\n          <mat-radio-button class=\"example-margin\" value=\"viajero\">Soy viajero</mat-radio-button>\n          <mat-radio-button class=\"example-margin\" value=\"organizador\">Soy organizador</mat-radio-button>\n        </mat-radio-group>\n      </section>\n\n      <section class=\"checkbox\"> <!--Pide la aceptacion de la politica-->\n        <mat-checkbox class=\"\" [(ngModel)]=\"terminos\" name=\"terminos\">Acepto los trminos y la poltica de privacidad</mat-checkbox>\n      </section>\n    \n      <div class=\"boton_registro\"> <!--Botn de registro-->\n          <button mat-raised-button style=\"width: 200px\" class= \"boton\" type=\"submit\" [disabled]=\"checkFields()\">\n         REGISTRATE</button>\n         <br>\n         <br>\n         <p>Ya ests registrado? <a href=\"/inicio-sesion\">Inicia sesin</a></p>\n      </div>\n    </form>\n  </div>\n\n</div>\n","import { Injectable } from '@angular/core';\nimport { IUsuario } from '../interfaces/usuario';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router'\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  public userData: Observable<firebase.User>;\n\n  constructor(private afAuth: AngularFireAuth, private route: Router) { \n    this.userData = afAuth.authState;\n  }\n\n  registerUser(email: string, password: string){\n    return new Promise ((resolve, reject)=>{\n      this.afAuth.createUserWithEmailAndPassword(email, password)\n        .then(userData => \n          resolve(userData),\n          err => reject(err));\n    });\n  }\n\n  \n\n  loginByEmail(user: IUsuario){\n    const {email, password} = user;\n    this.afAuth.signInWithEmailAndPassword(email, password)\n    .then(res => {\n      console.log('Successfuly', res)\n      this.route.navigate(['/mis-viajes'])\n    })\n    .catch(err => \n      console.log('Error', err)\n    )\n  }\n\n  logOut(){\n    console.log('Successfuly');\n    this.afAuth.signOut();\n    localStorage.clear();\n    this.route.navigate(['/'])\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, QuerySnapshot,Query } from '@angular/fire/firestore';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { IViaje,Viaje, Slides, ISlides } from '../../interfaces/viaje';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class FirestoreService {\n  \n  private afs:AngularFirestoreCollection<Viaje>;\n  private sli:AngularFirestoreCollection<Slides>;\n \n  //private db: AngularFirestore;\n\n  constructor(private firestore: AngularFirestore,\n              private db:AngularFirestore,\n              private storage: AngularFireStorage) \n  {\n    this.afs=this.firestore.collection('Viaje');\n    this.sli=this.firestore.collection('Slides');\n    \n  }\n  \n  public createViaje(data: IViaje):Promise<string>\n  {\n    //return this.firestore.collection<IContacto>('contactos').add({... data}).then(r=>{\n    //  return r.id;});   \n    \n    data.id=this.firestore.createId();\n    data.unidas = \"0\";\n    \n    return this.afs.doc(data.id).set({... data}).then(r=>{\n      return data.id;  \n    });\n  }  \n\n  public getViaje(id: string):Promise<Viaje>\n  {\n    return this.afs.doc(id).get().toPromise().then(r=>{\n      //Si quisieras forzar que se ejecute constructor de Contacto:\n      //return new Contacto(r.data() as IContacto);\n      var contacto = r.data() as Viaje;\n      console.log(contacto);\n      return contacto;\n    });\n  }\n \n  public getViajes():Observable<Viaje[]>\n  {\n    return this.afs.valueChanges();\n  }  \n \n  \n  public updateViaje(data:Viaje)\n  {\n    return this.afs.doc(data.id).set(data);\n  }\n\n  public removeViaje(id: string)\n  {\n    return this.afs.doc(id).delete();\n  }\n\n  // Los siguientes mtodos se muestran a modo de ejemplo. No son usados en esta practica.\n\n  public getViajesSorted():Observable<Viaje[]>\n  {  \n    /*\n    PUEDE SER UTIL:\n\n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docChanges().filter(f=>f.type===\"added\").forEach(d=>{\n          console.log(d.doc.data());\n      });\n    });\n    \n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docs.forEach(d=>{\n          console.log(d.data());\n      });\n    });\n    */\n  \n    return this.firestore.collection<Viaje>('Viaje',ref=>ref.orderBy('ciudad')).valueChanges();\n  }\n\n  \n  public getViajesFiltered(pais:String):Observable<Viaje[]>\n  {  \n    return this.firestore.collection<Viaje>('Viaje',ref=>ref.where('pais','==',pais)).valueChanges();\n  }\n\n  public getViajesByEmail(email:String):Observable<Viaje[]>\n  {  \n    return this.firestore.collection<Viaje>('Viaje',ref=>ref.where('email','==',email)).valueChanges();\n  }\n\n  public getViajesCombined(pais:String):Observable<Viaje[]>\n  {  \n    return this.firestore.collection<Viaje>('Viaje',ref=>ref.where('pais','==',pais).orderBy(\"ciudad\")).valueChanges();\n  }\n\n\n  //Tarea para subir archivo\n  public storageFile(nombreArchivo: string, datos: any) {\n    return this.storage.upload(nombreArchivo, datos);\n  }\n\n  //Referencia del archivo\n  public getFileRef(nombreArchivo: string) {\n    return this.storage.ref(nombreArchivo);\n  }\n\n  public getSlides(idViaje: string):Observable<Slides[]>\n  {\n    return this.firestore.collection<Slides>('Slides',ref=>ref.where('idViaje','==',idViaje)).valueChanges();\n  } \n\n}","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, QuerySnapshot,Query } from '@angular/fire/firestore';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { IComentario,Comentario, IPuntuacion, Puntuacion } from '../../interfaces/opiniones';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OpinionesFirestoreService {\n\n  private com:AngularFirestoreCollection<Comentario>;\n  private pun:AngularFirestoreCollection<Puntuacion>;\n\n  constructor(private firestore: AngularFirestore,\n    private db:AngularFirestore,\n    private storage: AngularFireStorage) \n  {\n    this.com=this.firestore.collection('Comentario');\n    this.pun=this.firestore.collection('Puntuacion');\n  }\n\n  public createComentario(data: IComentario):Promise<string>\n  {\n    //return this.firestore.collection<IContacto>('contactos').add({... data}).then(r=>{\n    //  return r.id;});   \n    \n    data.id=this.firestore.createId();\n    \n    \n    return this.com.doc(data.id).set({... data}).then(r=>{\n      return data.id;  \n    });\n  }\n  public createPuntuacion(data: IPuntuacion):Promise<string>\n  {\n    //return this.firestore.collection<IContacto>('contactos').add({... data}).then(r=>{\n    //  return r.id;});   \n    \n    data.id=this.firestore.createId();\n    \n    \n    return this.pun.doc(data.id).set({... data}).then(r=>{\n      return data.id;  \n    });\n  }    \n\n  public getComentario(id: string):Promise<Comentario>\n  {\n    return this.com.doc(id).get().toPromise().then(r=>{\n      //Si quisieras forzar que se ejecute constructor de Contacto:\n      //return new Contacto(r.data() as IContacto);\n      var contacto = r.data() as Comentario;\n      console.log(contacto);\n      return contacto;\n    });\n  }\n  public getPuntuacion(id: string):Promise<Puntuacion>\n  {\n    return this.pun.doc(id).get().toPromise().then(r=>{\n      //Si quisieras forzar que se ejecute constructor de Contacto:\n      //return new Contacto(r.data() as IContacto);\n      var contacto = r.data() as Puntuacion;\n      console.log(contacto);\n      return contacto;\n    });\n  }\n \n  public getComentarios():Observable<Comentario[]>\n  {\n    return this.com.valueChanges();\n  }  \n  public getPuntuaciones():Observable<Puntuacion[]>\n  {\n    return this.pun.valueChanges();\n  }  \n \n  \n  public updateComentario(data:Comentario)\n  {\n    return this.com.doc(data.id).set(data);\n  }\n  public updatePuntuacion(data:Puntuacion)\n  {\n    return this.pun.doc(data.id).set(data);\n  }\n\n  public removeComentario(id: string)\n  {\n    return this.com.doc(id).delete();\n  }\n  public removePuntuacion(id: string)\n  {\n    return this.pun.doc(id).delete();\n  }\n\n  // Los siguientes mtodos se muestran a modo de ejemplo. No son usados en esta practica.\n\n  public getComentariosSorted():Observable<Comentario[]>\n  {  \n    /*\n    PUEDE SER UTIL:\n\n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docChanges().filter(f=>f.type===\"added\").forEach(d=>{\n          console.log(d.doc.data());\n      });\n    });\n    \n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docs.forEach(d=>{\n          console.log(d.data());\n      });\n    });\n    */\n  \n    return this.firestore.collection<Comentario>('Comentario',ref=>ref.orderBy('comentador')).valueChanges();\n  }\n  public getPuntuacionesSorted():Observable<Puntuacion[]>\n  {  \n    /*\n    PUEDE SER UTIL:\n\n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docChanges().filter(f=>f.type===\"added\").forEach(d=>{\n          console.log(d.doc.data());\n      });\n    });\n    \n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docs.forEach(d=>{\n          console.log(d.data());\n      });\n    });\n    */\n  \n    return this.firestore.collection<Puntuacion>('Puntuacion',ref=>ref.orderBy('puntuado')).valueChanges();\n  }\n\n  \n  public getComentariosFiltered(comentado:String):Observable<Comentario[]>\n  {  \n    return this.firestore.collection<Comentario>('Comentario',ref=>ref.where('comentado','==',comentado)).valueChanges();\n  }\n\n  public getPuntuacionesFiltered(puntuado:String):Observable<Puntuacion[]>\n  {  \n    return this.firestore.collection<Puntuacion>('Puntuacion',ref=>ref.where('puntuado','==',puntuado)).valueChanges();\n  }\n\n  public getComentariosCombined(comentado:String):Observable<Comentario[]>\n  {  \n    return this.firestore.collection<Comentario>('Comentario',ref=>ref.where('comentado','==',comentado).orderBy(\"comentador\")).valueChanges();\n  }\n\n  public getPuntuacionesCombined(puntuado:String):Observable<Puntuacion[]>\n  {  \n    return this.firestore.collection<Puntuacion>('Puntuacion',ref=>ref.where('puntuado','==',puntuado).orderBy(\"puntuador\")).valueChanges();\n  }\n\n\n  //Tarea para subir archivo\n  public storageFile(nombreArchivo: string, datos: any) {\n    return this.storage.upload(nombreArchivo, datos);\n  }\n\n  //Referencia del archivo\n  public getFileRef(nombreArchivo: string) {\n    return this.storage.ref(nombreArchivo);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, QuerySnapshot,Query } from '@angular/fire/firestore';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { IUsuario,Usuario } from '../../interfaces/usuario';\nimport { IViaje,Viaje } from '../../interfaces/viaje';\nimport { ISolicitud,Solicitud } from '../../interfaces/solicitud';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SolicitudFirestoreService {\n\n  constructor(private firestore: AngularFirestore,\n    private db:AngularFirestore,\n    private storage: AngularFireStorage) \n  {\n    this.afs=this.firestore.collection('Solicitud');\n  }\n\n  private afs:AngularFirestoreCollection<Solicitud>;\n\n  public getSolicitudesByUserId(id:String):Observable<Solicitud[]>\n  {  \n    return this.firestore.collection<Solicitud>('Solicitud',ref=>ref.where('idUsuario','==',id)).valueChanges();\n  }\n\n  public getSolicitudesByTripId(id:String):Observable<Solicitud[]>\n  {  \n    return this.firestore.collection<Solicitud>('Solicitud',ref=>ref.where('idViaje','==',id)).valueChanges();\n  }\n  public getSolicitudesByOrganizadorId(id:String):Observable<Solicitud[]>\n  {  \n    return this.firestore.collection<Solicitud>('Solicitud',ref=>ref.where('idOrganizador','==',id)).valueChanges();\n  }\n  public getSolicitudesByOrganizadorEmail(email:String):Observable<Solicitud[]>\n  {  \n    return this.firestore.collection<Solicitud>('Solicitud',ref=>ref.where('idOrganizador','==',email)).valueChanges();\n  }\n\n  public createSolicitud(data: ISolicitud):Promise<string>\n  {\n    //return this.firestore.collection<IContacto>('contactos').add({... data}).then(r=>{\n    //  return r.id;});   \n    \n    data.id=this.firestore.createId();\n    \n    localStorage.setItem('solicitud', data.id);\n       \n    return this.afs.doc(data.id).set({... data}).then(r=>{\n      return data.id;  \n    });\n\n  }  \n\n  public updateSolicitud(data:Solicitud)\n  {\n    return this.afs.doc(data.id).set(data);\n  }\n\n}","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, QuerySnapshot,Query } from '@angular/fire/firestore';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { IUsuario,Usuario } from '../../interfaces/usuario';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsuarioFirestoreService {\n\n  private afs:AngularFirestoreCollection<Usuario>;\n\n  constructor(private firestore: AngularFirestore,\n    private db:AngularFirestore,\n    private storage: AngularFireStorage) \n  {\n    this.afs=this.firestore.collection('Usuario');\n  }\n\n  public createUsuario(data: IUsuario):Promise<string>\n  {\n    //return this.firestore.collection<IContacto>('contactos').add({... data}).then(r=>{\n    //  return r.id;});   \n    \n    data.id=this.firestore.createId();\n    data.estrellas = \"-1\";\n    \n    localStorage.setItem('usuario', data.id);\n    \n    \n    return this.afs.doc(data.id).set({... data}).then(r=>{\n      return data.id;  \n    });\n  }  \n\n  public createUsuarioConID(data: IUsuario){\n    \n    return this.afs.doc(data.id).set({... data}).then(r=>{\n      return data.id;  \n    });\n  }\n\n  public getUsuario(id: string):Promise<Usuario>\n  {\n    return this.afs.doc(id).get().toPromise().then(r=>{\n      //Si quisieras forzar que se ejecute constructor de Contacto:\n      //return new Contacto(r.data() as IContacto);\n      var contacto = r.data() as Usuario;\n      return contacto;\n    });\n  }\n \n  public getUsuarios():Observable<Usuario[]>\n  {\n    return this.afs.valueChanges();\n  }  \n \n  \n  public updateUsuario(data:Usuario)\n  {\n    return this.afs.doc(data.id).set(data);\n  }\n\n \n\n  public removeUsuario(id: string)\n  {\n    return this.afs.doc(id).delete();\n  }\n\n  // Los siguientes mtodos se muestran a modo de ejemplo. No son usados en esta practica.\n\n  public getUsuariosSorted():Observable<Usuario[]>\n  {  \n    /*\n    PUEDE SER UTIL:\n\n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docChanges().filter(f=>f.type===\"added\").forEach(d=>{\n          console.log(d.doc.data());\n      });\n    });\n    \n    this.afs.ref.orderBy('nombre').onSnapshot(z=>{\n      z.docs.forEach(d=>{\n          console.log(d.data());\n      });\n    });\n    */\n  \n    return this.firestore.collection<Usuario>('Usuario',ref=>ref.orderBy('puntuacion')).valueChanges();\n  }\n\n  \n  public getUsuariosFiltered(id:String):Observable<Usuario[]>\n  {  \n    return this.firestore.collection<Usuario>('Usuario',ref=>ref.where('id','==',id)).valueChanges();\n  }\n\n  public getUsuariosByEmail(email:String):Observable<Usuario[]>\n  {  \n    return this.firestore.collection<Usuario>('Usuario',ref=>ref.where('email','==',email)).valueChanges();\n  }\n\n  public getusuariosCombined(pais:String):Observable<Usuario[]>\n  {  \n    return this.firestore.collection<Usuario>('Usuario',ref=>ref.where('pais','==',pais).orderBy(\"ciudad\")).valueChanges();\n  }\n\n\n  //Tarea para subir archivo\n  public storageFile(nombreArchivo: string, datos: any) {\n    return this.storage.upload(nombreArchivo, datos);\n  }\n\n  //Referencia del archivo\n  public getFileRef(nombreArchivo: string) {\n    return this.storage.ref(nombreArchivo);\n  }\n}\n","import { Component, OnInit, Input} from '@angular/core';\n\n@Component({\n  selector: 'app-boton',\n  templateUrl: './boton.component.html',\n  styleUrls: ['./boton.component.scss']\n})\nexport class BotonComponent implements OnInit {\n\n  constructor() { }\n\n  @Input() public texto:string = \"tu texto\";\n\n  ngOnInit(): void {\n  }\n\n}\n","\n<button mat-raised-button color=\"primary\" style=\"height: 3em; width: 15em;\">{{texto}}</button>","import { Component, OnInit, ViewChild, Output, EventEmitter} from '@angular/core';\nimport { Puntuacion } from 'src/app/interfaces/opiniones';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-comentario-pu',\n  templateUrl: './comentario-pu.component.html',\n  styleUrls: ['./comentario-pu.component.scss']\n})\nexport class ComentarioPuComponent implements OnInit {\n\n  constructor() { }\n\n  @Output() comentario: EventEmitter<string> = new EventEmitter<string>();\n  @Output() cerrado: EventEmitter<any> = new EventEmitter<any>();\n\n  miComentario = \"\";\n\n  getComentario(){\n    var cerrado = true; //tenemos que cerrar porque hemos aceptado\n    this.comentario.emit(this.miComentario);\n    this.cerrado.emit(cerrado); //como aceptamos, cerramos\n  }\n\n  cerrar():boolean{\n    var cerrado = true; //devolvemos un true para cerrar el popup\n    this.miComentario = \"\"; //no se ha comentado, se devuelve un vaco para que no se haga el comentario\n    this.cerrado.emit(cerrado);\n    this.comentario.emit(this.miComentario);\n    return cerrado;\n  }\n\n\n  ngOnInit(): void {\n  }\n\n}\n","<div id=\"all\" class=\"outsider\">\n    <div class=\"content\">\n\n        <div class=\"cerrar\">\n            <img src=\"../../../assets/cerrar.png\" id=\"close\" (click)=\"cerrar()\">\n        </div>\n\n        <div class=\"formulario\">\n            <h1>Haz un comentario sobre este usuario</h1>\n        </div>\n        <form>\n            <textarea name=\"message\" [(ngModel)]=\"miComentario\"></textarea>\n        </form>\n\n        <div class=\"bloque-aceptar\">\n            <app-boton id = \"aceptar\" texto=\"Aceptar\" (click)=\"getComentario()\"></app-boton>\n        </div>\n\n          \n            \n        \n\n        \n    </div>\n</div>\n\n","import { Component, OnInit, ViewChild, Output, EventEmitter, Input } from '@angular/core';\nimport {UsuarioFirestoreService} from '../../services/firestore/usuario-firestore.service';\nimport { Usuario, IUsuario } from 'src/app/interfaces/usuario';\n\n@Component({\n  selector: 'app-edicion-pu',\n  templateUrl: './edicion-pu.component.html',\n  styleUrls: ['./edicion-pu.component.scss']\n})\nexport class EdicionPuComponent implements OnInit {\n\n  constructor( private firestoreServiceUser: UsuarioFirestoreService,) { }\n\n  @Input() public descripcion:string;\n  @Input() public user:Usuario;\n  @Output() newDescripcion: EventEmitter<string> = new EventEmitter<string>();\n  @Output() foto: EventEmitter<string> = new EventEmitter<string>();\n  @Output() cerrado: EventEmitter<any> = new EventEmitter<any>();\n  @Output() signal: EventEmitter<Usuario> = new EventEmitter<Usuario>();\n  \n\n  \n  miFoto = \"\";\n  \n  \n\n  setImagen(e){\n    this.miFoto = e;\n    \n  }\n\n  chooseImagen(){\n    document.getElementById(\"pedir-imagen\").style.display = \"block\";\n    document.getElementById(\"allContent\").style.display = \"none\";\n  }\n\n  save(){\n    var cerrado = true; //tenemos que cerrar porque hemos aceptado\n    this.newDescripcion.emit(this.descripcion);\n    this.cerrado.emit(cerrado); //como aceptamos, cerramos\n    this.foto.emit(this.miFoto);\n    this.signal.emit(this.user);\n  }\n\n  cerrar():boolean{\n    var cerrado = true; //devolvemos un true para cerrar el popup\n    this.descripcion = \"\"; //no se ha comentado, se devuelve un vaco para que no se haga el comentario\n    this.miFoto = \"\"\n    this.cerrado.emit(cerrado);\n    this.newDescripcion.emit(this.descripcion);\n    this.foto.emit(this.miFoto);\n    this.signal.emit(this.user);\n    return cerrado;\n  }\n\n  cerrarPopup(e, id){\n    if(e == true){\n      document.getElementById(id).style.display = \"none\";\n      document.getElementById(\"allContent\").style.display = \"block\";\n    }\n  }\n\n  ngOnInit(): void {\n\n  \n  }\n\n}\n","<div id=\"all\" class=\"outsider\">\n    \n\n    <div class=\"content\">\n        <app-pedir-imagen id=\"pedir-imagen\" directiva=\"users\" (cerrar)=\"cerrarPopup($event, 'pedir-imagen')\" (url)=\"setImagen($event)\"></app-pedir-imagen>\n        <div id=\"allContent\">\n            <div class=\"cerrar\">\n                <img src=\"../../../assets/cerrar.png\" id=\"close\" (click)=\"cerrar()\">\n            </div>\n\n            <div class=\"elementos\">\n                \n\n                <div class=\"form\">\n                    <h2>Descripcin</h2>\n                    <textarea name=\"message\" [(ngModel)]=\"descripcion\">\n                       \n                    </textarea>\n                </div>\n\n                <img src=\"../../../assets/camera.png\" id=\"normal\" texto=\"cambiar imagen de perfil\" (click)=\"chooseImagen()\">\n                \n                <div  id=\"movil\">\n                    <div class=\"boton-img\">\n                        <h2 id=\"foto\">Cambiar foto de perfil</h2>\n                        <img src=\"../../../assets/camera.png\" (click)=\"chooseImagen()\"> Examinar\n                    </div>\n                </div>\n                \n            </div>\n\n            <div class=\"bloque-aceptar\">\n                <app-boton id = \"aceptar\" texto=\"Save\" (click)=\"save()\"></app-boton>\n            </div>\n        </div>\n          \n            \n        \n\n        \n    </div>\n</div>\n\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"main\">\n\t<p [routerLink]=\"['/privacidad']\" style=\"cursor: pointer;\">Politica de privacidad</p>\n\t<p> 2020, Tripmefy SL. Todos los derechos reservados</p>\n</div>","import { Component, OnInit, Input, Inject} from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\nimport { ActivatedRoute }  from '@angular/router';\nimport { Router } from '@angular/router'; //Para redirigir a una pgina\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport {SolicitudFirestoreService} from '../../services/firestore/solicitud-firestore.service';\nimport {UsuarioFirestoreService} from '../../services/firestore/usuario-firestore.service';\nimport { Usuario } from 'src/app/interfaces/usuario';\nimport { NgModule } from '@angular/core';\nimport { database } from 'firebase';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule} from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\n\n\n\nexport interface DialogData {\n  name: string[];\n}\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\n\nexport class HeaderComponent implements OnInit {\n@Input() public titulo:string;\n  constructor(private authSvc : AuthService,\n              private firestoreServiceSolicitud:SolicitudFirestoreService,\n              private firestoreServiceUser: UsuarioFirestoreService,\n             private _route:ActivatedRoute, private route: Router, public dialog: MatDialog) {\n    this.titulo = \"\";\n   }\n\n  public solicitudes = [];\n  usuario:Usuario;\n\n  animal: string;\n  name: string;\n  \n  ngOnInit(): void {\n\n    /*  Este pedazo de cdigo obtiene el nombre del usuario cuyo organizador que est navegando\n        en esta pgina ha organizado algn viaje, de manera que posteriormente podamos imprimir\n        las solicitudes que deben ser aceptadas en un viaje por el organizador */\n\n    this.firestoreServiceUser.getUsuario(localStorage.getItem('usuario')).then((elem) => {\n      var organizadorEmail = elem.email;\n      this.firestoreServiceSolicitud.getSolicitudesByOrganizadorEmail(organizadorEmail).subscribe(res=>{\n        var i; \n        for (i = 0; i<res.length ; i++){\n          //Nos quedamos con el nombre y el id del usuario de nuestras solicitudes:\n          this.firestoreServiceUser.getUsuario(res[i].idUsuario).then((elem) => { \n            this.solicitudes.push({nombre: elem.nombre});\n        });\n        }\n      });\n    });  \n  }\n\n  /* Redirigir a la pgina de perfil pulsando sobre perfil */\n\n  irPerfil(){\n\n    //  Obtenemos la parte de la izquierda de la url\n    var origin = window.location.origin + '/'; \n    var primero;\n\n    if(localStorage.getItem('tipo') == 'organizador'){\n      primero = 'perfil-organizador/';\n    }else{\n      primero = 'perfil-viajero/';\n    }\n    \n    var segundo = localStorage.getItem('usuario');\n    var destino = origin + primero + segundo;\n    window.location.assign(destino);\n  }\n\n  /* Redirigir a la pgina de privacidad pulsando sobre about us*/\n\n  irAboutUs(){ \n    //  Obtenemos la parte de la izquierda de la url\n    var origin = window.location.origin + '/'; \n    var primero = \"privacidad\" ;\n    var destino = origin + primero\n    window.location.assign(destino);\n  }\n\n  toInicio(){\n    this.route.navigate(['/mis-viajes']);\n  }\n\n  onLogout():void{\n\n  }\n\n  onNotification():void{\n    document.getElementById(\"myForm\").style.display = \"block\";\n  }\n\n  close():void {\n    document.getElementById(\"myForm\").style.display = \"none\";\n  }\n\n  accept():void{\n    console.log(\"Has aceptado\");\n  }\n\n  aCasa():void{\n    console.log(\"Has rechazado\");\n  }\n}","<div class=\"content\">\n    <div class=\"menu-izq\">\n        <img src=\"../../../assets/notificacion.png\">\n    </div>\n    <div class=\"centro\">\n        <img (click)=\"toInicio()\" src=\"../../../assets/tripmefy2.png\">\n    </div>\n    <div class=\"menu-lateral\">\n        <p (click)=\"onNotification()\"> \n            <mat-icon matBadge=\"15\" matBadgeColor=\"warn\">question_answer</mat-icon>\n        </p>\n        <p (click)=\"onLogout()\" class=\"menu\">Logout</p>\n        <p class=\"menu\" (click)=\"irPerfil()\">Perfil</p>\n        <p class=\"menu\" routerLink=\"/logros\">Logros</p>\n        <p  class=\"menu\" (click)=\"irAboutUs()\">About Us</p>\n        <p  class=\"menu\">Contact</p> \n        <img src=\"../../../assets/menu.png\">\n    </div>\n</div>\n<div class=\"titulo\">\n    <h1>{{titulo}}</h1>\n</div>\n\n\n<div class=\"form-popup\" id=\"myForm\">\n    <form action=\"/action_page.php\" class=\"form-container\">\n      <h1><b>Tus notificaciones</b></h1>\n      <br>\n      <div class=\"mensaje\" *ngFor=\"let solicitud of solicitudes\">\n          <div class=\"nombre_individuo\">\n            <b>{{solicitud.nombre}} </b>\n          </div>\n          <div class=\"eleccion1\">\n            <mat-icon (click)=\"accept()\" style=\"cursor:pointer\">done_outline</mat-icon>\n          </div>\n          <div class=\"eleccion2\">\n            <mat-icon (click)=\"aCasa()\" style=\"cursor:pointer\">highlight_off</mat-icon>\n        </div>\n        <hr>\n      </div>\n      <br>\n      <button type=\"button\" class=\"btn cancel\" (click)=\"close()\">Close</button> \n    </form>\n</div>\n\n","import { Component, OnInit, ViewChild, Output, EventEmitter, Input} from '@angular/core';\n\n@Component({\n  selector: 'app-mensaje',\n  templateUrl: './mensaje.component.html',\n  styleUrls: ['./mensaje.component.scss']\n})\nexport class MensajeComponent implements OnInit {\n  @Output() cerrado: EventEmitter<any> = new EventEmitter<any>();\n  @Input() public mensaje;\n  @Input() public imagen = '';\n\n  constructor() { }\n\n  cerrar():boolean{\n    var cerrado = true; //devolvemos un true para cerrar el popup\n    this.cerrado.emit(cerrado);\n    return cerrado;\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div id=\"all\" class=\"outsider\">\n    <div class=\"content\">\n\n        <div class=\"cerrar\">\n            <img src=\"../../../assets/cerrar.png\" id=\"close\" (click)=\"cerrar()\">\n        </div>\n\n        <div class=\"formulario\">\n            <div class=\"mensaje\"><h1 *ngIf=\"mensaje !=''\">{{mensaje}}</h1></div>\n            <div class=\"imagen\"><img *ngIf=\"imagen !=''\" src=\"{{imagen}}\"></div>\n        </div>\n\n    </div>\n</div>\n\n","import { Component, OnInit, Input, OnDestroy, ElementRef, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\nimport {FirestoreService} from '../../services/firestore/firestore.service';\nimport {Subscription} from 'rxjs';\nimport {Viaje, IViaje} from '../../interfaces/viaje';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport {finalize} from 'rxjs/operators';\nimport { FormsModule } from '@angular/forms';\n//import { EventEmitter } from 'protractor';\n\n@Component({\n  selector: 'app-pedir-imagen',\n  templateUrl: './pedir-imagen.component.html',\n  styleUrls: ['./pedir-imagen.component.scss']\n})\nexport class PedirImagenComponent implements OnInit {\n\n\n  \n\n  @ViewChild('imageUser') inputImageUser;\n  uploadPercent: Observable<number>;\n  urlImage: Observable<string>;\n  myUrl = \"\";\n  \n  @Input() public directiva:string;\n  @Output() url: EventEmitter<any> = new EventEmitter<any>();\n  @Output() cerrar: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private _route:ActivatedRoute,\n    private _router: Router,\n    private storage: AngularFireStorage,\n    private firestoreService: FirestoreService\n    ) {\n      this.myUrl = \"\";\n     }\n\n  onUpload(e){\n    const id = Math.random().toString(36).substring(2); //generamos un id aleatorio para que no haya nombres repetidos\n    const file = e.target.files[0]; //cogemos el fichero que ha subido el usuario\n    const filePath = `${this.directiva}/${id}`; //utilizamos literales para meter el id\n    const ref = this.firestoreService.getFileRef(filePath);\n    const task = this.firestoreService.storageFile(filePath, file);\n\n    //console.log(ref.getDownloadURL());\n    this.uploadPercent = task.percentageChanges();\n    task.snapshotChanges().pipe(finalize(() => {\n        this.urlImage = ref.getDownloadURL();\n        \n    }\n      )).subscribe();\n    \n\n    \n    \n   }\n  getURL(){\n    var url = this.inputImageUser.nativeElement.value;\n    this.url.emit(url);\n    this.cerrar.emit(true);\n    alert(\"La imagen se ha subido correctamente\");\n    return url;\n  }\n\n  doCerrar(){\n    this.cerrar.emit(true);\n    this.url.emit(\"\");\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div id=\"all\" class=\"outsider\">\n    <div class=\"content\">\n\n        <div class=\"cerrar\">\n            <img src=\"../../../assets/cerrar.png\" id=\"close\" (click)=\"doCerrar()\">\n        </div>\n\n        <div class=\"formulario\">\n            <label id=\"titulo\" for=\"file\"><h1>Selecciona una imagen</h1></label>\n            <input type=\"file\" id=\"file\" (change)=\"onUpload($event)\">\n        </div>\n\n\n        <div class=\"progress\">\n            <div class=\"progress-bar\" role=\"progressbar\" [style.width]=\"( uploadPercent | async) + '%'\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n        </div>\n\n\n        <input #imageUser type=\"hidden\"  [value]=\"urlImage | async\" >\n\n        <div class=\"boton\">\n            <button *ngIf=\"urlImage | async; \" type=\"submit\" (click)=\"getURL()\">Subir</button>\n            <!--<button *ngIf=\"urlImage | async; else btnDisabled\" type=\"submit\" (click)=\"getURL()\">Crear</button>-->\n            <ng-template #btnDisabled>\n                <!--<button type=\"submit\" disabled=true>Crear</button>-->\n                <!--<app-boton type=\"submit\" disabled=true texto=\"Aceptar\"></app-boton>-->\n            </ng-template>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, ViewChild, Output, EventEmitter} from '@angular/core';\nimport { Puntuacion } from 'src/app/interfaces/opiniones';\n\n@Component({\n  selector: 'app-puntuacion-pu',\n  templateUrl: './puntuacion-pu.component.html',\n  styleUrls: ['./puntuacion-pu.component.scss']\n})\nexport class PuntuacionPuComponent implements OnInit {\n\n  constructor() { }\n\n  @Output() puntuacion: EventEmitter<any> = new EventEmitter<any>();\n  @Output() cerrado: EventEmitter<any> = new EventEmitter<any>();\n\n  estrellas = [false, false, false, false, false];\n  estable = -1;\n\n  getPuntuacion(){\n    var puntuacion = 0;\n    var i = 0;\n    var cerrado = true;\n    for (i; i < this.estrellas.length ; i++){\n      if(this.estrellas[i] == true){\n        puntuacion = puntuacion + 1; //si es verdadera sumamos un punto\n      }\n      else{\n        this.puntuacion.emit(puntuacion);\n        return puntuacion; //si una es falsa sus siguientes tambien\n      }\n    }\n    this.puntuacion.emit(puntuacion);\n    this.cerrado.emit(cerrado); //como aceptamos, cerramos\n    return puntuacion; //devolvemos la puntuacion\n  }\n\n  cerrar():boolean{\n    var cerrado = true; //devolvemos un true para cerrar el popup\n    var puntuacion = -1; //no se ha puntuado, se devuelve un -1 para que no se haga la puntuacin\n    this.cerrado.emit(cerrado);\n    this.puntuacion.emit(puntuacion);\n    return cerrado;\n  }\n\n  rellenar(i){\n    if(this.estable == -1){\n      for (i; i>= 0; i--){\n        this.estrellas[i] = true;\n      }\n    }\n  }\n\n  vaciar(i){\n    if(this.estable == -1){\n      var j;\n    for (j = i; j>= 0; j--){\n      this.estrellas[j] = false;\n    }\n    }\n  }\n\n  establecer(i){\n    \n    \n    if(this.estable == -1){\n      //si no hay ninguna estrella fija, se fija la que se ha pasado y se rellenan las anteriores\n      this.estable = i;\n      for (i; i>= 0; i--){\n        this.estrellas[i] = true;\n      }\n    }\n    else if (this.estable == i){\n      //si ya hay una estrella fija y es sobre la que se ha pulsado, se desfija esa estrella y se vacan todas\n      this.estable = -1;\n      for (i; i>= 0; i--){\n        this.estrellas[i] = false;\n      }\n    }\n    else{\n      //si ya hay una estrella vaca, pero es diferente a la que se ha pulsado, se desfija, se fija la nueva\n      //se vacan todas y se rellena hasta la nueva\n      var j = 0;\n      for (j; j<this.estrellas.length ; j++){\n        this.estrellas[j] = false;\n      }//vaciar todo\n\n      this.estable = i; //establecer la nueva\n\n      for (i; i>= 0; i--){\n        this.estrellas[i] = true;\n      }//rellenar hasta i\n    }\n    \n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div id=\"all\" class=\"outsider\">\n    <div class=\"content\">\n\n        <div class=\"cerrar\">\n            <img src=\"../../../assets/cerrar.png\" id=\"close\" (click)=\"cerrar()\">\n        </div>\n\n        <div class=\"formulario\">\n            <h1>Qu tal fue el viaje?</h1>\n        </div>\n        <div class=\"bloque-estrellas\">\n            <div class=\"estrellas\" *ngFor=\"let i of [0, 1, 2, 3, 4]\">\n                <img *ngIf=\"estrellas[i] == true\" src=\"../../../assets/star.png\" (mouseout)='vaciar(i)' (click)=\"establecer(i)\">\n                <img *ngIf=\"estrellas[i] == false\" src=\"../../../assets/empty_star.png\" (mouseover)='rellenar(i)' (click)=\"establecer(i)\">\n            </div>\n        </div>\n\n        <div class=\"bloque-aceptar\">\n            <app-boton id = \"aceptar\" texto=\"Aceptar\" (click)=\"getPuntuacion()\"></app-boton>\n        </div>\n\n          \n            \n        \n\n        \n    </div>\n</div>\n","import { Component, OnInit, HostListener  } from '@angular/core';\n\n@Component({\n  selector: 'app-scroll-top',\n  templateUrl: './scroll-top.component.html',\n  styleUrls: ['./scroll-top.component.scss']\n})\nexport class ScrollTopComponent implements OnInit {\n  navIsFixed: boolean;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  @HostListener(\"window:scroll\", [])\n  onWindowScroll() {\n      if (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop > 100) {\n          this.navIsFixed = true;\n      } else if (this.navIsFixed && window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop < 10) { this.navIsFixed = false; } } scrollToTop() { (function smoothscroll() { var currentScroll = document.documentElement.scrollTop || document.body.scrollTop; if (currentScroll > 0) {\n              window.requestAnimationFrame(smoothscroll);\n              window.scrollTo(0, currentScroll - (currentScroll / 5));\n          }\n      })();\n  }\n}\n","<div class=\"scroll-to-top\" [ngClass]=\"{'show-scroll': navIsFixed}\">\n    <img   (click)=\"scrollToTop()\" class=\"scroll-top\" src=\"../../../assets/avion.png\" title=\"Ir arriba\">\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-volver',\n  templateUrl: './volver.component.html',\n  styleUrls: ['./volver.component.scss']\n})\nexport class VolverComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n\n","<div class=\"volver\">\n    <img src=\"../../../assets/volver.png\"> <h1>Volver</h1>\n</div>","import { UsuarioFirestoreService } from './../../services/firestore/usuario-firestore.service';\nimport { Viaje } from './../../interfaces/viaje';\nimport { FirestoreService } from './../../services/firestore/firestore.service';\nimport { Component, OnInit, Output, EventEmitter, } from '@angular/core';\nimport { Router } from '@angular/router'; //Para redirigir a una pgina\n\n\n@Component({\n  selector: 'app-crear-viaje',\n  templateUrl: './crear-viaje.component.html',\n  styleUrls: ['./crear-viaje.component.scss']\n})\nexport class CrearViajeComponent implements OnInit {\n\n  @Output() foto: EventEmitter<string> = new EventEmitter<string>();\n\n  constructor(private route: Router, private viajeService: FirestoreService, private userService: UsuarioFirestoreService) { \n   \n  }\n\n  ngOnInit(): void {\n     if(!localStorage.getItem('usuario') || 0 === localStorage.getItem('usuario').length){\n      this.route.navigate(['/page1']);\n    }\n    this.userService.getUsuariosFiltered(localStorage.getItem('usuario')).subscribe(res=>{\n        this.email = res[0].email;      \n    })\n  }\n\n\n\n  continentes = [\"Europa\", \"Asia\" ,\"America del Norte\" ,\"America del Sur\",\"America Central\",\n  \"Oceania\",\"Africa\"];\n\n  europa = ['Espaa', 'Francia', 'Italia', 'Suecia', 'Alemania'];\n  asia = ['Kazajistn', 'China', 'Corea del Norte', 'Corea del Sur', 'Japn'];\n  americaNorte = ['Canada', 'EEUU'];\n  americaSur = ['Colombia', 'Venezuela', 'Argentina', 'Per', 'Ecuador'];\n  americaCentro = ['Costa Rica', 'Salvador', 'Guatemala'];\n  oceania = ['Australia', 'Nueva Zelanda'];\n  africa = ['Argelia,', 'Camern', 'Burkina Fasso', 'Egipto', 'Marruecos'];\n\n  paises = [];\n\n  public continenteSelect: string = \"\";\n  public paisSelect: string = \"\";\n  public ciudadSelect: string = \"\";\n  public startDate: string = \"\";\n  public endDate: string = \"\";\n  public limitDate: string = \"\";\n  public limitPayDate: string = \"\";\n  public desc: string = \"\";\n  public email: string = \"\";\n  public telefono: string = \"\";\n  public prefijo:string = \"\";\n  public item:string = \"\";\n  public precio:string = \"\";\n  public maxpers:string = \"\";\n  public vuelo:boolean = false;\n  public alojamiento:boolean = false;\n  public comidas:boolean = false;\n  public miFoto = \"\";\n\n  refresh(): void {\n    window.location.reload();\n  }\n\n  onCreate(){\n    \n    var newViaje:Viaje = new Viaje();\n    newViaje.ciudad = this.ciudadSelect;\n    newViaje.continente = this.continenteSelect;\n    newViaje.descripcion = this.desc;\n    newViaje.email = this.email; \n    newViaje.fin = this.endDate;\n    newViaje.img = this.miFoto;\n    newViaje.inicio = this.startDate\n    newViaje.limitePago = this.limitPayDate;\n    newViaje.limiteUnion = this.limitDate;\n    newViaje.maximo = this.maxpers;\n    newViaje.pais = this.paisSelect;\n    newViaje.precio = this.precio;\n    newViaje.tlf = '+' + this.prefijo + ' ' + this.telefono;\n    newViaje.servicios = '';\n    newViaje.viajeros = '';\n  \n    if(this.vuelo){\n      newViaje.servicios += 'Vuelo,';\n    }\n    if(this.alojamiento){\n      newViaje.servicios += 'Alojamiento,';\n    }\n    if(this.comidas){\n      newViaje.servicios += 'Comidas,';\n    }\n    alert(\"El viaje se ha creado correctamente\");\n    //this.viajeService.createViaje(newViaje);\n    this.route.navigate(['/mis-viajes']);\n  }\n\n\n  chooseImagen(){\n    document.getElementById(\"pedir-imagen\").style.display = \"block\";\n    document.getElementById(\"general\").style.display = \"none\";\n  }\n\n  setImagen(e){\n    this.miFoto = e;\n    \n  }\n\n  cerrarPopup(e, id){\n    if(e == true){\n      document.getElementById(id).style.display = \"none\";\n      document.getElementById(\"general\").style.display = \"block\";\n    }\n  }\n\n  back(){\n    this.route.navigate(['/mis-viajes']);\n  }\n\n  getPais(){\n    \n    if(this.continenteSelect===''){\n      return this.paises;\n    }\n    if(this.continenteSelect === 'Europa'){\n      return this.europa;\n    }else if(this.continenteSelect === 'Asia'){\n        return this.asia;\n    }else if(this.continenteSelect === 'America del Norte'){\n       return  this.americaNorte;\n    }else if(this.continenteSelect === 'America del Sur'){\n      return  this.americaSur;\n    }else if(this.continenteSelect ==='America Central'){\n      return  this.americaCentro;\n    }else if(this.continenteSelect ==='Oceania'){\n      return  this.oceania;\n    }else if(this.continenteSelect === 'Africa'){\n      return this.africa;\n    }else{\n      return this.paises;\n    }\n  \n  }\n\n  checkFields(){\n  \n    if (this.ciudadSelect==='' || this.continenteSelect==='' || this.desc==='' || \n    this.endDate==='' || this.startDate==='' || this.limitPayDate==='' || this.limitDate==='' \n    || this.maxpers === '' || this.precio === '' || this.paisSelect === '' || this.telefono === '' || this.prefijo===''){\n      \n      document.getElementById(\"error\").style.display=\"block\";\n      document.getElementById(\"error_img\").style.display=\"block\";\n      document.getElementById(\"error1\").style.display=\"block\";\n      document.getElementById(\"error2\").style.display=\"none\";\n      document.getElementById(\"error3\").style.display=\"none\";\n      return true;\n    }else if(this.miFoto===''){\n      document.getElementById(\"error\").style.display=\"block\";\n      document.getElementById(\"error_img\").style.display=\"block\";\n      document.getElementById(\"error2\").style.display=\"block\";\n      document.getElementById(\"error1\").style.display=\"none\";\n      document.getElementById(\"error3\").style.display=\"none\";\n      return true;\n    }else if (this.telefono.length<9 || this.prefijo.length<2){\n      document.getElementById(\"error\").style.display=\"block\";\n      document.getElementById(\"error_img\").style.display=\"block\";\n      document.getElementById(\"error3\").style.display=\"block\";\n      document.getElementById(\"error2\").style.display=\"none\";\n      document.getElementById(\"error1\").style.display=\"none\";\n      return true;\n    }else{\n      document.getElementById(\"error\").style.display=\"none\";\n      document.getElementById(\"error_img\").style.display=\"none\";\n      document.getElementById(\"error3\").style.display=\"none\";\n      document.getElementById(\"error2\").style.display=\"none\";\n      document.getElementById(\"error1\").style.display=\"none\";\n      return false;\n    } \n  }\n\n\n}\n","<app-header titulo=\"CREAR VIAJE\"></app-header>\n<div class=\"sub-cabecera\">\n\t<app-volver (click)='back()'></app-volver>\n\t<img id=\"error_img\" src=\"../../../assets/warning.png\">\n\t<div id=\"error\">\n\t\t<h3 id=\"error1\">Por favor introduce todos los campos</h3>\n\t\t<h3 id=\"error2\">Por favor carga una imagen</h3>\n\t\t<h3 id=\"error3\">La longitud del telefono debe ser 6 y la de la extension 2</h3>\n\t</div>\n</div>\n\n<app-pedir-imagen id=\"pedir-imagen\" directiva=\"users\" (cerrar)=\"cerrarPopup($event, 'pedir-imagen')\" (url)=\"setImagen($event)\"></app-pedir-imagen>\n<div id=\"general\">\n\t<form (ngSubmit)=\"onCreate()\"> \n\t\t<div id=\"div1\">\n\t\t\t<mat-card style=\"height: 220px; vertical-align: middle; text-align: center;\">\n\t\t\t\t<div class=\"up\">\n\t\t\t\t<img src=\"../../../assets/plus.png\" (click)=\"chooseImagen()\"  style=\"display: block; margin-left: auto; margin-right: auto; cursor: pointer;\" height=\"100px\" width=\"100px\"/>\n\t\t\t\t</div>\n\t\t\t</mat-card>\n\n\t\t\t<h1 style=\"margin-top: 3%;\">Aade una imagen para tu viaje</h1>\n\t\t\t<br>\n\t\t\t<h2 style=\"display: inline-block; margin-right:20px ;\">Establece un precio: </h2>\n\n\t\t\t<mat-form-field appearance=\"fill\">\n\t\t\t\t<mat-label>Amount</mat-label>\n\t\t\t\t<input matInput type=\"number\" class=\"example-right-align \" [(ngModel)]=\"precio\" name=\"precio\" required>\n\t\t\t\t<span matPrefix>&nbsp;</span>\n\t\t\t</mat-form-field>\n\n\t\t\t<br>\n\t\t\t<h2 style=\"display: inline-block; margin-right:20px ;\">Mximo de participantes: </h2>\n\t\t\t<mat-form-field appearance=\"fill\" id=\"maximo\">\n\t\t\t\t<mat-label>Mximo</mat-label>\n\t\t\t\t<input matInput type=\"number\" class=\"example-right-align \" [(ngModel)]=\"maxpers\" name=\"maxpers\" required>\n\t\t\t\t<span matPrefix></span>\n\t\t\t</mat-form-field>\n\t\t\t<br>\n\n\t\t\t<h2> El precio incluye...</h2>\n\t\t\t<mat-checkbox style=\"display: block; margin-top: 5px;\" [(ngModel)]=\"vuelo\" name=\"vuelo\" >\n\t\t\t\tVuelo\n\t\t\t</mat-checkbox>\n\t\t\t<mat-checkbox style=\"display: block; margin-top: 5px;\" [(ngModel)]=\"alojamiento\" name=\"alojamiento\">\n\t\t\t\tAlojamiento\n\t\t\t</mat-checkbox>\n\t\t\t<mat-checkbox style=\"display: block; margin-top: 5px;\" [(ngModel)]=\"comidas\" name=\"comidas\">\n\t\t\t\tComidas\n\t\t\t</mat-checkbox>\n\n\n\t\t</div>\n\n\t\t<div id=\"div2\">\n\t\t\t<span class=\"texto\"> Tu viaje a\n\t\t\t\t<div class=\"formulario\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Elija un continente</mat-label>\n\t\t\t\t\t\t<mat-select [(ngModel)]=\"continenteSelect\" name=\"continente\" required>\n\t\t\t\t\t\t\t<mat-option *ngFor=\"let continente of continentes\" [value]=\"continente\">\n\t\t\t\t\t\t\t\t{{continente}}\n\t\t\t\t\t\t\t</mat-option>\n\t\t\t\t\t\t</mat-select>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<span class=\"texto\">\n\t\t\t\t<div class=\"formulario\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Elija un pais</mat-label>\n\t\t\t\t\t\t<mat-select [(ngModel)]=\"paisSelect\" name=\"pais\" required>\n\t\t\t\t\t\t\t<mat-option *ngFor=\"let pais of getPais()\" [value]=\"pais\">\n\t\t\t\t\t\t\t\t{{pais}}\n\t\t\t\t\t\t\t</mat-option>\n\t\t\t\t\t\t</mat-select>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<span class=\"texto\">\n\t\t\t\t<div class=\"formulario ciudad\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Ciudad</mat-label>\n\t\t\t\t\t\t<input matInput  [(ngModel)]=\"ciudadSelect\" name=\"ciudad\" required>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<br>\n\t\t\t<span class=\"texto\">Fecha de inicio\n\t\t\t\t<div class=\"formulario\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Elige una fecha</mat-label>\n\t\t\t\t\t\t<input matInput #date1 type=\"date\" maxlength=\"10\"  placeholder=\"DD/MM/YYYY\" [(ngModel)]=\"startDate\" name=\"startDate\" required>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t\tFecha de fin\n\t\t\t\t<div class=\"formulario\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Elige una fecha</mat-label>\n\t\t\t\t\t\t<input matInput #date2 type=\"date\" maxlength=\"10\"  placeholder=\"DD/MM/YYYY\" [(ngModel)]=\"endDate\" name=\"endDate\" required>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<br>\n\t\t\t<span class=\"texto\">Fecha de lmite de inscripcin\n\t\t\t\t<div class=\"formulario\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Elige una fecha</mat-label>\n\t\t\t\t\t\t<input matInput #date3 type=\"date\" maxlength=\"10\"  placeholder=\"DD/MM/YYYY\" [(ngModel)]=\"limitDate\" name=\"limitDate\" required>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<br>\n\t\t\t<span class=\"texto\">Fecha lmite de pago\n\t\t\t\t<div class=\"formulario\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Elige una fecha</mat-label>\n\t\t\t\t\t\t<input matInput #date4 type=\"date\" maxlength=\"10\"  placeholder=\"DD/MM/YYYY\" [(ngModel)]=\"limitPayDate\" name=\"limitPayDate\" required>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\t\t\t\n\t\t\t</span>\n\t\t\t<br>\n\t\t\t<span class=\"texto\">\n\t\t\t\t<div class=\"formulario descripcion\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<textarea   matInput #descripcion maxlength=\"300\" rows=5 placeholder=\"Introduce una breve descripcin en este area...\" [(ngModel)]=\"desc\" name =\"descripcion\" ></textarea>\n\t\t\t\t\t\t<mat-hint>{{descripcion.value.length}} / 300</mat-hint>\t\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<br>\n\t\t\t<span class=\"texto\">Contacto:\n\t\t\t\t+\n\t\t\t\t<div class=\"formulario prefijo\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Pr</mat-label>\n\t\t\t\t\t\t<input matInput [(ngModel)]=\"prefijo\" name=\"prefijo\" placeholder=\"34\" maxlength=\"3\" required>\n\t\t\t\t\t</mat-form-field>\t\n\t\t\t\t</div>\n\t\t\t\t<div class=\"formulario contacto\">\n\t\t\t\t\t<mat-form-field class=\"election\">\n\t\t\t\t\t\t<mat-label>Telefono</mat-label>\n\t\t\t\t\t\t<input matInput #telef  [(ngModel)]=\"telefono\" name=\"telefono\" placeholder=\"660918814\" maxlength=\"9\" required>\n\t\t\t\t\t\t<mat-hint >{{telef.value.length}} / 9</mat-hint>\n\t\t\t\t\t</mat-form-field>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<br>\n\t\t\t<div class=\"divBotonAceptar\">\n\t\t\t\t<button mat-raised-button color=\"primary\" class=\"botonAceptar\" type=\"submit\" [disabled]=\"checkFields()\">Listo</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\n\n\t</form>\n\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\nimport { HAMMER_LOADER } from '@angular/platform-browser';\nimport {SolicitudFirestoreService} from '../../services/firestore/solicitud-firestore.service';\nimport {Viaje, IViaje} from '../../interfaces/viaje';\nimport {FirestoreService} from '../../services/firestore/firestore.service';\nimport {UsuarioFirestoreService} from '../../services/firestore/usuario-firestore.service';\n\n@Component({\n  selector: 'app-mis-viajes',\n  templateUrl: './mis-viajes.component.html',\n  styleUrls: ['./mis-viajes.component.scss']\n})\nexport class MisViajesComponent implements OnInit {\n\n  title = 'Espaa';\n  estePais = \"\";\n  precio = \"Todos\";\n  escogidas = [];\n  buscar = \"\";\n  ciudadesId = [];\n  ciudades = [];\n  estaVacio(){\n    return this.escogidas.length < 1;\n  }\n\n  busqueda(){\n    \n    var i;\n    var selec;\n    this.escogidas = [];\n    for (i = 0; i < this.ciudades.length; i++) {\n      // Se ejecuta 5 veces, con valores desde paso desde 0 hasta 4.\n      //console.log(this.estePais);\n      selec = this.filtro(i);\n      if(selec != -1 && selec['ciudad'].toUpperCase().includes(this.buscar.toUpperCase())){\n        this.escogidas.push(selec);\n      }\n     \n    };\n  }\n\n  filtrar(){\n    var i;\n    var selec;\n    this.escogidas = [];\n    for (i = 0; i < this.ciudades.length; i++) {\n      // Se ejecuta 5 veces, con valores desde paso desde 0 hasta 4.\n      //console.log(this.estePais);\n      selec = this.filtro(i);\n      if(selec != -1){\n        this.escogidas.push(selec);\n      }\n      \n\n    };\n  }\n\n  filtro(i:number): any{\n    var ciudad = this.ciudades[i];\n    //solo metemos los viajes del pais escogido\n    \n        \n    switch(this.precio){\n      case \"Hasta 100\":\n        if (parseInt(ciudad['precio'].substr(0,3)) <= 100 ){\n          //this.escogidas.push(ciudad);\n          return ciudad;\n        }\n        break;\n      case \"Hasta 300\":\n        if (parseInt(ciudad['precio'].substr(0,3)) <= 300 ){\n          //this.escogidas.push(ciudad);\n          return ciudad;\n        }\n        break;\n      case \"Hasta 500\":\n        if (parseInt(ciudad['precio'].substr(0,3)) <= 500 ){\n          //this.escogidas.push(ciudad);\n          return ciudad;\n        }\n        break;\n      default:  \n          //this.escogidas.push(ciudad);\n          return ciudad;\n        break; \n    }\n    return -1;\n  }\n  \n  //ciudades = [['Sevilla', 'hola'], ['Barcelona'], ['Galicia'], ['Madrid']];\n  \n  myciudad= this.ciudades[0];\n\n  constructor(private _route:ActivatedRoute, \n              private _router: Router,\n              private firestoreServiceSolicitud: SolicitudFirestoreService,\n              private firestoreService: FirestoreService,\n              private firestoreServiceUser: UsuarioFirestoreService,) {\n                this.ciudades = [];\n                this.escogidas = [];\n               }\n\n  ngOnInit(): void {\n    //let dato = JSON.parse(localStorage.getItem('pais'));\n\n    if(localStorage.getItem('usuario')== \"null\"){\n      var origin = window.location.origin + '/'; \n      var destino = origin + \"page1\";\n      window.location.assign(destino);\n    }\n    \n    //let id = localStorage.getItem('pais');\n    this.escogidas = this.ciudades;\n    \n    /**SI EL USUARIO ES VIAJERO\n     * Deben buscarse las solicitudes del usuario y meter los datos de sus viajes en el array\n     */\n    if(localStorage.getItem('tipo') == 'viajero'){\n        this.escogidas = [];\n        this.ciudades = [];\n        this.firestoreServiceSolicitud.getSolicitudesByUserId(localStorage.getItem('usuario')).subscribe(res=>{\n            var i;\n            this.ciudadesId = [];\n            for (i = 0; i < res.length ; i++){\n              this.ciudadesId.push(res[i].idViaje);\n            }\n            \n            //console.log(this.ciudadesId);\n            for(i = 0; i < this.ciudadesId.length ; i++){\n              if(res[i].estado != \"pendiente\" && res[i].estado != \"rechazado\" ){\n                  this.firestoreService.getViaje(this.ciudadesId[i]).then(elem=>{\n                  \n                    \n                    this.ciudades.push(elem);\n                    this.escogidas.push(elem);\n\n                    \n                    //una vez estan todos los viajes al pais seleccionado metidos en el array, los filtros funcionan correctamente\n                    }\n                  \n                   );\n                }\n              }\n          });\n      }\n\n    /**SI EL USUARIO ES ORGANIZADOR\n     * Deben buscarse su email y buscar aquellos viajes que tengan como email el email del organizador\n     */\n    if(localStorage.getItem('tipo') == 'organizador'){\n      this.escogidas = [];\n      this.ciudades = [];\n      this.firestoreServiceUser.getUsuariosFiltered(localStorage.getItem('usuario')).subscribe(res=>{\n        var email = res[0].email;\n        \n        this.firestoreService.getViajesByEmail(email).subscribe(elem=>{\n          var i;\n          for(i = 0; i<elem.length ; i++){\n            //console.log(elem[i].descripcion);\n            this.ciudades.push(elem[i]);\n            this.escogidas.push(elem[i]);\n            //console.log(this.ciudades[i].descripcion);\n          }\n          \n        });\n      });\n      }\n\n    }\n\n  \n  comprobarViajero(){\n    return localStorage.getItem('tipo') == \"viajero\";\n  }\n  comprobarOrganizador(){\n    return localStorage.getItem('tipo') == \"organizador\";\n  }\n\n\n\n}\n","<app-header titulo=\"MIS VIAJES\"></app-header>\n<nav>\n    <div class=\"right\">\n        <div class=\"buscador\">\n            <form>\n                <!---<label for=\"fname\"><img src=\"../../../assets/busqueda.png\"></label>-->\n                <input id=\"fname\"  name=\"fname\" placeholder=\"Buscar ciudad...\" [(ngModel)]=\"buscar\" (change)=\"busqueda()\" onclick=\"reset()\"><br><br>\n                <!--<input type=\"submit\" value=\"Submit\" (click)=\"busqueda\">-->\n            </form>\n        </div>\n        <img id=\"img-f\" src=\"../../../assets/filtro.png\">\n        <select id=\"select-f\" [(ngModel)]=\"precio\" (change)=\"filtrar()\">\n           \n            <option value=\"+ 500\">Todos</option>\n            <option value=\"Hasta 100\">Hasta 100</option> \n            <option value=\"Hasta 300\">Hasta 300</option>\n            <option value=\"Hasta 500\">Hasta 500</option>\n            <option value=\"+ 500\">+ 500</option>\n            <option value={{precio}} selected>{{precio}}</option>\n\n        </select>\n    </div>\n</nav>\n<div class=\"content\">\n\n    <div class=\"nuevo\" *ngIf=\"comprobarViajero()\" [routerLink] = \"['/unirse-continente']\">\n        <img id=\"mas\" src=\"../../../assets/nuevo.png\">\n    </div>\n    \n    <div class=\"nuevo\" *ngIf=\"comprobarOrganizador()\" [routerLink] = \"['/crear-viaje']\">\n        <img id=\"mas\" src=\"../../../assets/nuevo.png\">\n    </div>\n\n    <div class=\"pais\" *ngFor=\"let ciudad of escogidas\"  [routerLink]=\"['/viaje/', ciudad['id'] ]\">\n    \n    \n        <img src=\"{{ciudad.img}}\">\n        \n        <p class=\"destacado\">{{ ciudad.ciudad }}</p>\n        <p id=\"mensaje\">{{ciudad.descripcion}}</p>   \n        <div class=\"info\">\n            <p class=\"destacado\">{{ciudad.precio}}</p>\n            <div class=\"personas\">\n                <img src=\"../../../assets/usuario.png\">\n                <p>{{ciudad.unidas}}/{{ciudad.maximo}}</p>\n            </div>\n            <img src=\"../../../assets/compartir.png\">\n        </div> \n            \n    </div>\n\n   \n   \n</div>","import { Component, OnInit, Input, OnDestroy, ElementRef, ViewChild } from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\nimport {FirestoreService} from '../../services/firestore/firestore.service';\nimport {Subscription} from 'rxjs';\nimport {Viaje, IViaje} from '../../interfaces/viaje';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport {finalize} from 'rxjs/operators';\nimport { FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-unirse-ciudad',\n  templateUrl: './unirse-ciudad.component.html',\n  styleUrls: ['./unirse-ciudad.component.scss']\n\n  \n})\n\n\nexport class UnirseCiudadComponent implements OnInit, OnDestroy {\n\n\n\n  title = 'Espaa';\n  estePais = \"\";\n  escogidas = [];\n  precio = \"Todos\";\n  buscar = \"\";\n  ciudades = [];\n\n\n  //fileToUpload: File = null;\n  @ViewChild('imageUser') inputImageUser;\n  uploadPercent: Observable<number>;\n  urlImage: Observable<string>;\n  myUrl = \"\";\n\n  public viajes:Viaje[];\n  public s_viajes:Subscription;\n\n  public viaje;\n\n  public search_texto:string=\"\";\n  public search_tipo:number=0;\n\n\n  estaVacio(){\n    return this.escogidas.length < 1;\n  }\n\n  busqueda(){\n\n    var i;\n    var selec;\n    this.escogidas = [];\n    for (i = 0; i < this.ciudades.length; i++) {\n      // Se ejecuta 5 veces, con valores desde paso desde 0 hasta 4.\n      //console.log(this.estePais);\n      selec = this.filtro(i);\n      if(selec != -1 && selec.ciudad.toUpperCase().includes(this.buscar.toUpperCase())){\n        this.escogidas.push(selec);\n      }\n\n\n    };\n  }\n\n\n  filtrar(){\n    var i;\n    var selec;\n    this.escogidas = [];\n    for (i = 0; i < this.ciudades.length; i++) {\n      // Se ejecuta 5 veces, con valores desde paso desde 0 hasta 4.\n      //console.log(this.estePais);\n      selec = this.filtro(i);\n      if(selec != -1){\n        this.escogidas.push(selec);\n      }\n\n\n    };\n  }\n\n  filtro(i:number): any{\n    var ciudad = this.ciudades[i];\n    //solo metemos los viajes del pais escogido\n    \n\n    switch(this.precio){\n      case \"Hasta 100\":\n        if (parseInt(ciudad.precio.substr(0,ciudad.precio.length - 1)) <= 100 ){\n          //this.escogidas.push(ciudad);\n          return ciudad;\n        }\n        break;\n      case \"Hasta 300\":\n        if (parseInt(ciudad.precio.substr(0,ciudad.precio.length - 1)) <= 300 ){\n          //this.escogidas.push(ciudad);\n          return ciudad;\n        }\n        break;\n      case \"Hasta 500\":\n        if (parseInt(ciudad.precio.substr(0,ciudad.precio.length - 1)) <= 500 ){\n          //this.escogidas.push(ciudad);\n          return ciudad;\n        }\n        break;\n      default:\n          //this.escogidas.push(ciudad);\n          return ciudad;\n        break;\n\n      \n    }\n    return -1;\n  }\n  /**\n  //ciudades = [['Sevilla', 'hola'], ['Barcelona'], ['Galicia'], ['Madrid']];\n  ciudades = [\n    {\n      \"id\":\"1\",\n      \"pais\": \"Espaa\",\n      \"ciudad\": \"Sevilla\",\n      \"mensaje\": \"La capital andaluza destila alegra y bullicio en cada una de las calles y plazas que configuran su casco histrico, que alberga un interesante conjunto de construcciones declaradas Patrimonio Mundial y barrios de hondo sabor popular, como el de Triana o La Macarena. \",\n      \"precio\": \"80\",\n      \"unidas\": \"1\",\n      \"maximo\": \"5\"\n    },\n    {\n      \"id\":\"2\",\n      \"pais\": \"Espaa\",\n      \"ciudad\": \"Barcelona\",\n      \"mensaje\": \"Situada a orillas del Mediterrneo, Barcelona es una ciudad cosmopolita con una gran importancia tanto cultural como comercial, financiera y turstica. Barcelona es una de las ciudades europeas ms visitadas\",\n      \"precio\": \"300\",\n      \"unidas\": \"1\",\n      \"maximo\": \"5\"\n    },\n    {\n      \"id\":\"3\",\n      \"pais\": \"Espaa\",\n      \"ciudad\": \"Galicia\",\n      \"mensaje\": \"Patrimonio cultural, museos, alojamiento, fiestas... Todos los recursos tursticos de Galicia a tu alcance\",\n      \"precio\": \"450\",\n      \"unidas\": \"1\",\n      \"maximo\": \"5\"\n    },\n    {\n      \"id\":\"4\",\n      \"pais\": \"Espaa\",\n      \"ciudad\": \"Madrid\",\n      \"mensaje\": \"Djate seducir por la magnfica ciudad de Madrid visitando todos sus museos y paseando por sus calles peculiares. La oferta incluye vuelos desde Cdiz y alojamiento en hotel 4*.\",\n      \"precio\": \"625\",\n      \"unidas\": \"1\",\n      \"maximo\": \"5\"\n    },\n    {\n      \"id\":\"4\",\n      \"pais\": \"Italia\",\n      \"ciudad\": \"Roma\",\n      \"mensaje\": \"Djate seducir por la magnfica ciudad de Madrid visitando todos sus museos y paseando por sus calles peculiares. La oferta incluye vuelos desde Cdiz y alojamiento en hotel 4*.\",\n      \"precio\": \"625\",\n      \"unidas\": \"1\",\n      \"maximo\": \"5\"\n    }\n\n  ]\n  **/\n  //myciudad= this.ciudades[0];\n  private db:AngularFirestore;\n  public misViajes = []\n  constructor(private _route:ActivatedRoute,\n              private _router: Router,\n              private storage: AngularFireStorage,\n              private firestoreService: FirestoreService\n              ) {\n                this.viajes = [];\n               }\n\n    /**Esta funcin recoge el file seleccionado */   \n    /**    \n    onUpload(e){\n      //console.log('subir', e.target.files[0]);\n      const id = Math.random().toString(36).substring(2); //generamos un id aleatorio para que no haya nombres repetidos\n      const file = e.target.files[0]; //cogemos el fichero que ha subido el usuario\n      const filePath = `upload/viaje_${id}`; //utilizamos literales para meter el id\n      const ref = this.storage.ref(filePath);\n      const task = this.storage.upload(filePath, file);\n\n      this.uploadPercent = task.percentageChanges();\n      task.snapshotChanges().pipe(finalize(() => \n        this.urlImage = ref.getDownloadURL()\n             \n      \n      \n      \n      )).subscribe();\n      //this.crearViaje(this.urlImage);\n      \n    \n    }\n    **/\n   onUpload(e){\n    const id = Math.random().toString(36).substring(2); //generamos un id aleatorio para que no haya nombres repetidos\n    const file = e.target.files[0]; //cogemos el fichero que ha subido el usuario\n    const filePath = `upload/viaje_${id}`; //utilizamos literales para meter el id\n    const ref = this.firestoreService.getFileRef(filePath);\n    const task = this.firestoreService.storageFile(filePath, file);\n\n    //console.log(ref.getDownloadURL());\n    this.uploadPercent = task.percentageChanges();\n    task.snapshotChanges().pipe(finalize(() => {\n        this.urlImage = ref.getDownloadURL();\n        \n    }\n      )).subscribe();\n    \n\n    \n    \n   }\n   \n    crearViaje(){\n      console.log(\"entra\");\n      var viaje:Viaje = new Viaje();\n      viaje.pais = \"Francia\"\n      viaje.ciudad = \"Pars\";\n      viaje.continente = \"Europa\";\n      viaje.email = \"emailinventado@gmail.com\";\n      viaje.img = this.inputImageUser.nativeElement.value;\n      this.firestoreService.createViaje(viaje);\n\n    } \n    \n\n\n\n\n  ngOnInit(): void {\n    //let dato = JSON.parse(localStorage.getItem('pais'));\n    \n    //let id = localStorage.getItem('pais');\n    if(localStorage.getItem('usuario')== \"null\"){\n      var origin = window.location.origin + '/'; \n      var destino = origin + \"page1\";\n      window.location.assign(destino);\n    }\n    \n    let id = this._route.snapshot.paramMap.get('id'); //para saber el pais a traves de la URL\n    localStorage.setItem('pais', id);//se establece el local Storage\n    \n    this.estePais = id.toUpperCase(); //para el titulo\n\n   \n\n\n    this.s_viajes=this.firestoreService.getViajesSorted().subscribe(data=>{\n      this.viajes=data;\n    });\n\n    this.firestoreService.getViajesFiltered(this._route.snapshot.paramMap.get('id')).subscribe(res=>{\n      this.viajes=res; //obtenemos todos los viajes a dicho pais\n      var i = 0;\n      var iterado;//servira de variable auxiliar\n      this.escogidas = [];//lo vaciamos al cargar la pgina\n      this.ciudades = []//lo vaciamos al cargar la pgina\n\n      for (i = 0; i<this.viajes.length; i++){\n        //recorremos todos los viajes del pais y vamos metiendolos con sus datos en el atributo escogidas\n        iterado = new Viaje();\n        iterado.id = this.viajes[i].id;\n        iterado.ciudad = this.viajes[i].ciudad;\n        iterado.continente = this.viajes[i].continente;\n        iterado.descripcion = this.viajes[i].descripcion;\n        iterado.duracion = this.viajes[i].duracion;\n        iterado.email = this.viajes[i].email;\n        iterado.fin = this.viajes[i].fin;\n        iterado.img = this.viajes[i].img;\n        iterado.tlf = this.viajes[i].tlf;\n        iterado.inicio = this.viajes[i].inicio;\n        iterado.limitePago = this.viajes[i].limitePago;\n        iterado.limiteUnion = this.viajes[i].limiteUnion;\n        iterado.maximo = this.viajes[i].maximo;\n        iterado.servicios = this.viajes[i].servicios;\n        iterado.precio = this.viajes[i].precio;\n        iterado.pais = this.viajes[i].pais;\n        iterado.viajeros = this.viajes[i].viajeros;\n        iterado.unidas = this.viajes[i].unidas;\n        this.ciudades.push(iterado);\n        this.escogidas.push(iterado);\n\n      }\n      //una vez estan todos los viajes al pais seleccionado metidos en el array, los filtros funcionan correctamente\n      }\n    );\n\n    \n\n      \n\n      /**\n      var dir = \"../../../assets/viajes/Europa/Barcelona-00.jpg\"\n      //var dir = \"Otawa-00\";\n      var archivo = dir;\n      var ref = this.firestoreService.getFileRef(\"Amberes-01.jpg\");\n      var tarea = this.firestoreService.storageFile(\"Amberes-01.jpg\", archivo);\n      \n      ref.getDownloadURL().subscribe((URL) => {\n        viaje.img = URL;\n      });\n      **/\n      \n\n      //console.log(this.firestoreService.createViaje(viaje));\n\n\n  \n\n  \n\n\n\n\n\n\n  }\n\n\n\n\n\n\n\n\n  ngOnDestroy()\n  {\n    this.s_viajes.unsubscribe();\n  }\n\n\n\n\n\n\n\n}\n","<app-header titulo=\"VIAJES A {{estePais}}\"></app-header>\n<nav>\n    <div id=\"div-volver\" [routerLink]=\"['/unirse-pais']\">\n        <app-volver></app-volver>\n    </div>\n    <div class=\"right\">\n        <div class=\"buscador\">\n            <form>\n                <!---<label for=\"fname\"><img src=\"../../../assets/busqueda.png\"></label>-->\n                <input id=\"fname\"  name=\"fname\" placeholder=\"Buscar ciudad...\" [(ngModel)]=\"buscar\" (change)=\"busqueda()\" onclick=\"reset()\"><br><br>\n                <!--<input type=\"submit\" value=\"Submit\" (click)=\"busqueda\">-->\n            </form>\n        </div>\n        <img id=\"img-f\" src=\"../../../assets/filtro.png\">\n        <select id=\"select-f\" [(ngModel)]=\"precio\" (change)=\"filtrar()\">\n           \n            <option value=\"+ 500\">Todos</option>\n            <option value=\"Hasta 100\">Hasta 100</option> \n            <option value=\"Hasta 300\">Hasta 300</option>\n            <option value=\"Hasta 500\">Hasta 500</option>\n            <option value=\"+ 500\">+ 500</option>\n            <option value={{precio}} selected>{{precio}}</option>\n\n        </select>\n    </div>\n</nav>\n<div class=\"notfound\" *ngIf=\"estaVacio()\" >\n    <app-not-found404 titulo=\"Lo sentimos, el viaje que ests buscando no est disponible\"></app-not-found404>\n</div>\n<div class=\"content\" *ngIf=\"estaVacio() == false\">\n    <div class=\"pais\" *ngFor=\"let ciudad of escogidas\" [routerLink]=\"['/viaje/', ciudad.id ]\">\n    \n    \n        <img src=\"{{ciudad.img}}\">\n        \n        <p class=\"destacado\">{{ ciudad.ciudad }}</p>\n        <p id=\"mensaje\">{{ ciudad.mensaje }}</p>   \n        <div class=\"info\">\n            <p class=\"destacado\">{{ciudad.precio}}</p>\n            <div class=\"personas\">\n                <img src=\"../../../assets/usuario.png\">\n                <p>{{ciudad.unidas}}/{{ciudad.maximo}}</p>\n            </div>\n            <img src=\"../../../assets/compartir.png\">\n        </div> \n            \n    </div>\n   \n</div>\n\n\n<!--\n<div class=\"form-group\">\n    <label for=\"file\">Choose File</label>\n    <input type=\"file\"\n           id=\"file\"\n           (change)=\"onUpload($event)\">\n</div>\n<div class=\"progress\">\n    <div class=\"progress-bar\" role=\"progressbar\" [style.width]=\"( uploadPercent | async) + '%'\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n  </div>\n<input #imageUser type=\"hidden\"  [value]=\"urlImage | async\" >\n<button *ngIf=\"urlImage | async; else btnDisabled\" type=\"submit\" (click)=\"crearViaje()\">Crear</button>\n<ng-template #btnDisabled>\n    <button onclick=\"console.log('hi')\" type=\"submit\" disabled=true>Crear</button>\n</ng-template>\n-->\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n\n\n@Component({\n  selector: 'app-unirse-continente',\n  templateUrl: './unirse-continente.component.html',\n  styleUrls: ['./unirse-continente.component.scss']\n})\nexport class UnirseContinenteComponent implements OnInit {\n\n  clickMessage = '';\n\n  constructor() { }\n/** \n  establecerContinente(continente:string):void{\n    alert(continente);\n  }\n  **/\n  \n \n\n  ngOnInit(): void {\n    if(localStorage.getItem('usuario')== \"null\"){\n      var origin = window.location.origin + '/'; \n      var destino = origin + \"page1\";\n      window.location.assign(destino);\n    }\n    \n  }\n  \n\n}\n","<app-header titulo=\"ESCOGE TU SIGUIENTE EXPLORACIN\"></app-header>\n\n<div id=\"div-volver\" [routerLink]=\"['/mis-viajes']\">\n    <app-volver></app-volver>\n</div>\n\n\n<!-- Image Map Generated by http://www.image-map.net/ -->\n\n\n<img id=\"imagen\" src=\"../../../assets/mapa-continentes.png\" usemap=\"#image-map\">\n\n\n\n<map name=\"image-map\">\n    <area onclick=\"localStorage.setItem('continente', 'africa')\" [routerLink]=\"['/unirse-pais']\" target=\"_self\" alt=\"frica\" title=\"frica\"   coords=\"466,199,454,209,450,222,440,233,433,244,424,256,424,274,425,291,441,305,457,322,492,313,505,317,514,322,516,336,516,350,525,362,525,377,522,393,522,415,531,428,537,450,546,466,568,466,586,449,599,434,600,413,615,404,623,382,620,356,627,339,647,324,650,301,635,298,607,265,595,232,581,218,512,196\" shape=\"poly\" >\n    <area onclick=\"localStorage.setItem('continente', 'america-sur')\" [routerLink]=\"['/unirse-pais']\" target=\"_self\" alt=\"Amrica del sur\" title=\"Amrica del sur\"   coords=\"232,294,219,303,219,316,211,338,206,354,213,380,220,392,235,401,252,414,250,426,248,463,250,496,258,515,264,537,295,552,280,497,300,482,320,450,331,428,349,419,349,387,360,367,352,354,304,317,265,297,256,298\" shape=\"poly\">\n    <area onclick=\"localStorage.setItem('continente', 'america-norte')\" [routerLink]=\"['/unirse-pais']\" target=\"_self\" alt=\"Amrica del norte\" title=\"Amrica del norte\"   coords=\"163,263,154,271,144,268,131,259,128,242,118,227,116,226,106,217,114,244,107,225,99,201,156,253,139,170,108,156,128,167,109,123,109,113,101,104,156,233,159,260,157,257,154,238,170,225,176,223,189,222,207,217,218,222,222,208,243,199,242,184,263,175,285,155,297,162,321,154,321,133,314,108,389,109,446,60,464,38,397,36,375,39,335,33,320,40,296,44,268,44,230,54,205,62,183,71,160,72,130,74,100,72,80,81,62,91,46,104,17,124,156,253,157,259\" shape=\"poly\">\n    <area onclick=\"localStorage.setItem('continente', 'america-centro')\" [routerLink]=\"['/unirse-pais']\" target=\"_self\" alt=\"Amrica central\" title=\"Amrica central\"   coords=\"188,257,178,257,166,265,156,269,154,276,164,290,181,304,204,306,212,299,247,264,211,252\" shape=\"poly\">\n    <area onclick=\"localStorage.setItem('continente', 'oceania')\"  [routerLink]=\"['/unirse-pais']\" target=\"_self\" alt=\"Oceana\" title=\"Oceana\"   coords=\"854,473,856,450,860,425,874,414,895,408,904,392,916,391,930,382,941,382,939,395,953,404,965,381,965,394,971,404,979,415,984,421,989,432,986,450,975,472,963,489,943,484,945,513,884,436,935,489,853,441,898,469,944,503\" shape=\"poly\">\n    <area onclick=\"localStorage.setItem('continente', 'europa')\" [routerLink]=\"['/unirse-pais']\" target=\"_self\" alt=\"Europa\" title=\"Europa\"  coords=\"464,201,481,192,489,180,500,172,513,186,540,191,564,197,572,179,584,166,617,177,641,185,640,153,643,144,664,139,656,125,650,103,652,84,647,58,625,59,581,79,547,75,517,87,502,106,479,127,475,113,460,131,446,189,451,194\" shape=\"poly\">\n    <area onclick=\"localStorage.setItem('continente', 'asia')\" [routerLink]=\"['/unirse-pais']\" target=\"_self\" alt=\"Asia\" title=\"Asia\"  coords=\"570,186,589,180,603,178,621,178,636,185,646,195,655,184,645,160,645,143,658,144,659,122,646,97,658,72,679,70,725,50,769,58,789,66,846,69,886,77,919,80,955,84,976,91,953,107,938,136,949,140,927,212,877,224,858,258,846,284,888,271,911,294,903,327,924,350,886,385,657,274,640,291,624,271\" shape=\"poly\">\n</map>\n\n\n<div class=\"botones\">\n    <div class=\"boton\" onclick=\"localStorage.setItem('continente', 'africa')\" [routerLink]=\"['/unirse-pais']\">\n        <img src=\"../../../assets/continentes/africa.png\">\n        <h1>frica</h1>\n    </div>\n    <div class=\"boton\" onclick=\"localStorage.setItem('continente', 'america-sur')\" [routerLink]=\"['/unirse-pais']\">\n        <img src=\"../../../assets/continentes/america-sur.png\">\n        <h1>Amrica del Sur</h1>\n    </div>\n    <div class=\"boton\" onclick=\"localStorage.setItem('continente', 'america-norte')\" [routerLink]=\"['/unirse-pais']\">\n        <img src=\"../../../assets/continentes/america-norte.png\">\n        <h1>Amrica del Norte</h1>\n    </div>\n    <div class=\"boton\" onclick=\"localStorage.setItem('continente', 'america-centro')\" [routerLink]=\"['/unirse-pais']\">\n        <img src=\"../../../assets/continentes/america-centro.png\">\n        <h1>Amrica Central</h1>\n    </div>\n    <div class=\"boton\" onclick=\"localStorage.setItem('continente', 'oceania')\" [routerLink]=\"['/unirse-pais']\">\n        <img src=\"../../../assets/continentes/oceania.png\">\n        <h1>Oceana</h1>\n    </div>\n    <div class=\"boton\" onclick=\"localStorage.setItem('continente', 'europa')\" [routerLink]=\"['/unirse-pais']\">\n        <img src=\"../../../assets/continentes/europa.png\">\n        <h1>Europa</h1>\n    </div>\n    <div class=\"boton\" onclick=\"localStorage.setItem('continente', 'asia')\" [routerLink]=\"['/unirse-pais']\">\n        <img src=\"../../../assets/continentes/asia.png\">\n        <h1>Asia</h1>\n    </div>\n</div>\n\n","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\n@Component({\n  selector: 'app-unirse-pais',\n  templateUrl: './unirse-pais.component.html',\n  styleUrls: ['./unirse-pais.component.scss']\n})\nexport class UnirsePaisComponent implements OnInit {\n\n  escogidos = [];\n  buscar = \"\";\n\n  hayPais():boolean{\n    return this.escogidos.length > 0;\n  }\n  busqueda(){\n    var i;\n    var pais;\n    this.escogidos = [];\n    for (i = 0; i < this.continentes[0].length; i++) {\n      // Se ejecuta 5 veces, con valores desde paso desde 0 hasta 4.\n      //console.log(this.estePais);\n      pais = this.continentes[0][i];\n      if(pais['pais'].toUpperCase().includes(this.buscar.toUpperCase())){\n        this.escogidos.push(pais);\n      }\n    }\n    //si devuelve true, habra encontrado, si devuelve false, no habra encontrado\n    \n  }\n\n  onChange(deviceValue) {\n    console.log(deviceValue);\n    localStorage.setItem('continente', deviceValue);\n    this.identificador = localStorage.getItem('continente');\n    this.continente = this.identificador;\n    \n    \n    this.continente = deviceValue; \n    switch(this.identificador) { \n      case 'europa': { \n         this.continentes[0] = this.europa;\n         this.continente = 'Europa';\n         break; \n      } \n      case 'america-norte': { \n         this.continentes[0] = this.americaNorte;\n         this.continente = 'Amrica del Norte';\n         break; \n      } \n      case 'america-sur': { \n        this.continentes[0] = this.americaSur;\n        this.continente = 'Amrica del Sur';\n        break; \n     } \n     case 'america-centro': { \n      this.continentes[0] = this.americaCentro;\n      this.continente = 'Amrica Central';\n      break; \n     } \n     case 'africa': { \n      this.continentes[0] = this.africa;\n      this.continente = 'frica';\n      break; \n    } \n    case 'asia': { \n      this.continentes[0] = this.asia;\n      this.continente = 'Asia';\n      break; \n    } \n    case 'oceania': { \n      this.continentes[0] = this.oceania;\n      this.continente = 'Oceana';\n      break; \n    } \n      default: { \n        this.continente = 'Europa';  \n        this.identificador = \"europa\";\n         break; \n      } \n\n   \n      \n   }\n   this.escogidos = this.continentes[0];\n   \n   \n   \n  \n\n}\n\n  constructor(private _route:ActivatedRoute, private _router: Router) {\n    \n  }\n\n  \n\n    identificador:string;\n    continente:string;\n    elegido = [];\n    numContinente:number;\n\n\n    americaNorte = [\n      {\n        \"pais\": \"Canad\",\n        \"imagen\": \"cn.jpg\"\n      }\n    ];\n    americaCentro = [\n      {\n        \"pais\": \"Panam\",\n        \"imagen\": \"pn.png\"\n      }\n    ];\n    americaSur = [\n      {\n        \"pais\": \"Argentina\",\n        \"imagen\": \"ar.png\"\n      }\n    ];\n    asia = [\n      {\n        \"pais\": \"China\",\n        \"imagen\": \"ch.png\"\n      }\n    ];\n    africa = [\n      {\n        \"pais\": \"Egipto\",\n        \"imagen\": \"eg.png\"\n      }\n    ];\n    oceania = [\n      {\n        \"pais\": \"Australia\",\n        \"imagen\"  : \"au.png\"\n      }\n    ];\n    europa = [\n      {\n        \"pais\": \"Espaa\",\n        \"imagen\"  : \"sp.png\"\n      },\n      {\n        \"pais\": \"Italia\",\n        \"imagen\": \"ita.png\"\n      },\n      {\n        \"pais\": \"Francia\",\n        \"imagen\": \"fr.png\"\n      },\n      {\n        \"pais\": \"Hungra\",\n        \"imagen\": \"hu.png\"\n      }\n    ];\n    \n    continentes = [this.europa];\n    elem = this.continentes[this.numContinente];\n\n  ngOnInit(): void {\n\n    if(localStorage.getItem('usuario')== \"null\"){\n      var origin = window.location.origin + '/'; \n      var destino = origin + \"page1\";\n      window.location.assign(destino);\n    }\n\n    this.identificador = localStorage.getItem('continente');\n    this.continente = this.identificador;\n    this.continente[0].toUpperCase();\n    \n    \n      \n    switch(this.identificador) { \n      case 'europa': { \n         this.continentes[0] = this.europa;\n         this.continente = 'Europa';\n         break; \n      } \n      case 'america-norte': { \n         this.continentes[0] = this.americaNorte;\n         this.continente = 'Amrica del Norte';\n         break; \n      } \n      case 'america-sur': { \n        this.continentes[0] = this.americaSur;\n        this.continente = 'Amrica del Sur';\n        break; \n     } \n     case 'america-centro': { \n      this.continentes[0] = this.americaCentro;\n      this.continente = 'Amrica Central';\n      break; \n     } \n     case 'africa': { \n      this.continentes[0] = this.africa;\n      this.continente = 'frica';\n      break; \n    } \n    case 'asia': { \n      this.continentes[0] = this.asia;\n      this.continente = 'Asia';\n      break; \n    } \n    case 'oceania': { \n      this.continentes[0] = this.oceania;\n      this.continente = 'Oceana';\n      break; \n    } \n      default: { \n        this.continente = 'Europa';  \n         break; \n      } \n      \n   }\n   this.escogidos = this.continentes[0];\n\n   \n   \n  }\n  \n  establecerPais(){\n     //onclick=\"localStorage.setItem('pais', pais['pais'])\"\n     //[routerLink]=\"['/unirse-ciudad']\"\n  }\n  \n\n}\n","<app-header titulo=\"ESCOGE TU SIGUIENTE EXPLORACIN\"></app-header>\n<nav>\n    <div id=\"div-volver\" [routerLink]=\"['/unirse-continente']\">\n        <app-volver></app-volver>\n    </div>\n       \n    <div class=\"right\">\n        <div class=\"buscador\">\n            <form action=\"/action_page.php\">\n                <!---<label for=\"fname\"><img src=\"../../../assets/busqueda.png\"></label>-->\n                <input type=\"text\" id=\"fname\" name=\"fname\" placeholder=\"Buscar pais...\" [(ngModel)]=\"buscar\" (change)=\"busqueda()\" onclick=\"reset()\"><br><br>\n            </form>\n        </div>\n        <img id=\"img-f\" src=\"../../../assets/filtro.png\">\n        <!--\n        <select id=\"select-f\">\n            <option value=any selected>Filter Post</option>\n            <option value=\"africa\">Turismo cultural</option> \n            <option value=\"america-centro\">Turismo gastronmico</option>\n            <option value=\"america-norte\">Las mejores playas</option>\n        </select>\n        -->\n        <select (change)=\"onChange($event.target.value)\"   id=\"continentes\" >\n            <option value=\"{{identificador}}\" selected>{{continente}}</option>\n            <option value=\"africa\">frica</option>\n            <option value=\"america-centro\">Amrica Central</option>\n            <option value=\"america-sur\">Amrica del sur</option>\n            <option value=\"america-norte\">Amrica del Norte</option>\n            <option value=\"oceania\">Oceana</option>\n            <option value=\"asia\">Asa</option>\n            <option value=\"europa\">Europa</option>\n        </select>\n    </div>\n</nav>\n<div class=\"notfound\" *ngIf=\"hayPais() == false\" >\n    <app-not-found404 titulo=\"Lo sentimos, no hay pases que coincidan con esas caractersticas\"></app-not-found404>\n</div>\n<div class=\"content\" *ngIf=\"hayPais()\">\n    <div class=\"pais\"  *ngFor=\"let pais of escogidos\"  [routerLink]=\"['/unirse-ciudad/', pais['pais'] ]\">\n        <img src=\"../../../assets/banderas/{{pais['imagen']}}\" >\n        <p class=\"destacado\">{{ pais[\"pais\"] }}</p>         \n    </div> \n</div>\n<br>\n\n","import { Component, OnInit, Input, OnDestroy, ElementRef, ViewChild } from '@angular/core';\nimport { ActivatedRoute }  from '@angular/router';\nimport {Router} from '@angular/router';\nimport {UsuarioFirestoreService} from '../../services/firestore/usuario-firestore.service';\nimport {OpinionesFirestoreService} from '../../services/firestore/opiniones-firestore.service';\nimport {FirestoreService} from '../../services/firestore/firestore.service';\nimport {Subscription} from 'rxjs';\nimport {Viaje, IViaje} from '../../interfaces/viaje';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport {finalize} from 'rxjs/operators';\nimport { FormsModule } from '@angular/forms';\nimport { Usuario } from 'src/app/interfaces/usuario';\nimport { ISolicitud,Solicitud } from '../../interfaces/solicitud';\nimport {SolicitudFirestoreService} from '../../services/firestore/solicitud-firestore.service';\nimport { Params } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\n\n\n@Component({\n  selector: 'app-viaje',\n  templateUrl: './viaje.component.html',\n  styleUrls: ['./viaje.component.scss']\n})\n\nexport class ViajeComponent implements OnInit {\n\n  /* Array de prueba para los carouseles en caso de encontrarse offline\n\n  public slides = [\n    { src: \"../../../assets/person-1.jpg\"},\n    { src: \"../../../assets/person-2.jpg\" },\n    { src: \"../../../assets/person-3.jpg\" },\n    { src: \"../../../assets/person-4.jpg\" },\n    { src: \"../../../assets/person-5.jpg\" },\n    { src: \"../../../assets/person-6.jpg\" }\n  ];\n\n  public slides2 = [\n    { src: \"../../../assets/Amsterdam-01.jpg\"},\n    { src: \"../../../assets/Amsterdam-02.jpg\" },\n    { src: \"../../../assets/Amsterdam-03.jpg\" },\n    { src: \"../../../assets/Amsterdam-04.jpg\" }\n  ];\n  */\n\n  public slides3 = [];\n\n  public solicitudes = [];\n\n  public usuarios_viaje = [];\n  public img_usuarios_viaje = [];\n\n  public links: string[];\n\n\n  public show = true;\n  public payButton = false;\n  public alreadyPaid = false;\n\n\n  @ViewChild('imageUser') inputImageUser;\n  uploadPercent: Observable<number>;\n  urlImage: Observable<string>;\n  myUrl = \"\";\n\n  public viajes:Viaje[];\n  viaje:Viaje;\n\n  private db:AngularFirestore;\n  constructor(private _route:ActivatedRoute,\n              private _router: Router,\n              private storage: AngularFireStorage,\n              private firestoreServiceUser: UsuarioFirestoreService,\n              private firestoreServiceViaje: FirestoreService,\n              private firestoreServiceOpiniones: OpinionesFirestoreService,\n              private firestoreServiceSolicitud:SolicitudFirestoreService\n              ) {\n                \n                /* Inicializaciones */\n                this.viajes = [];\n                this.viaje = new Viaje();\n                this.solicitudes = [];\n                this.usuarios_viaje = [];\n               }\n\n  /* Funcin que selecciona el tipo de botn a mostar al usuraio en un viaje\n     Si el usuario no se ha apuntado y es viajero se le da la opcin de apuntarse,\n     si el usuario viajero no ha pagado pero est apuntado puede pagar\n     si el usuario ya ha pagado no se le muestran los botones pues no los necesita*/\n\n  showButtonJoin(solicitudes:Solicitud[]){\n    if(localStorage.getItem('tipo') == 'organizador'){\n      this.show = false;\n    }else{ // Es tipo viajero y hay que mirar las solicitudes\n      for(var i=0; i<solicitudes.length; i++){\n        if(solicitudes[i].idUsuario == localStorage.getItem('usuario') ){\n          this.show=false; // El usuario ya se ha apuntado luego se elimina la posibilidad\n          if(solicitudes[i].estado == 'aceptado'){\n            this.payButton=true;  //Mostramos botn de pago\n          } else if(solicitudes[i].estado == 'pagado'){\n            this.payButton=false; // No mostramos botn pago si ya ha pagado\n            this.alreadyPaid = true; // Activamos mensaje de confimracin de pago\n          }\n        }\n      }\n    }\n  }   \n  \n  /*  Funcin que une a una persona a la base de datos en el apartado de solicitues para el viaje en cuestin\n      Se activa al pinchar sobre el botn de unirse */\n\n  unirse(){\n      var new_solicitud:Solicitud = new Solicitud();\n      new_solicitud.idUsuario = localStorage.getItem('usuario');\n      new_solicitud.idOrganizador = \"\";\n      new_solicitud.idViaje = this._route.snapshot.paramMap.get('id');\n      new_solicitud.estado = \"aceptado\";\n      this.firestoreServiceSolicitud.createSolicitud(new_solicitud);\n\n  }\n\n  /*  Funcin que une actualiza en la solicitud de la persona el estado de aceptado a pagado\n      Se activa al pinchar sobre el botn de pagar */\n\n  pagar(){\n    this.firestoreServiceSolicitud.getSolicitudesByTripId(this._route.snapshot.paramMap.get('id')).subscribe(res=>{\n      var i;\n      var new_solicitud:Solicitud = new Solicitud();\n      for(i=0; i<res.length; i++){\n        if(res[i].idUsuario == localStorage.getItem('usuario')){\n          new_solicitud = res[i];\n          new_solicitud.estado = \"pagado\";\n          this.firestoreServiceSolicitud.updateSolicitud(new_solicitud);\n        }\n      }  \n    });\n  }\n\n  ngOnInit(): void {\n\n    // El viaje a Roma es: lWdwEvTbnVAptd1xpr3Z\n\n    // Obtenemos el id a partir de la ruta de forma automtica\n    var tripId = this._route.snapshot.paramMap.get('id');\n    \n    /*SI SE INTENTA ACCEDER A ESTA PAGINA SIN HABER INICIADO SESION RETORNAREMOS\n    A LA PAGINA PRINCIPAL */\n    if (localStorage.getItem('usuario')==null){\n      localStorage.clear();\n      console.log(\"Any user is logged\");\n      var pagInicio = window.location.origin + '/page1'; \n      window.location.assign(pagInicio);\n    }\n    \n    var tripAux = this.firestoreServiceViaje.getViaje(tripId).then((elem) => {\n\n      var tripAux:Viaje = new Viaje();\n      tripAux.continente = elem.continente;\n      tripAux.ciudad = elem.ciudad;\n      tripAux.descripcion = elem.descripcion;\n      tripAux.duracion = elem.duracion;\n      tripAux.email = elem.email;\n      tripAux.fin = elem.fin;\n      tripAux.id = elem.id;\n      tripAux.img = elem.img;\n      tripAux.inicio = elem.inicio;\n      tripAux.limitePago = elem.limitePago;\n      tripAux.limiteUnion = elem.limiteUnion;\n      tripAux.maximo = elem.maximo;\n      tripAux.pais = elem.pais;\n      tripAux.precio = elem.precio;\n      tripAux.servicios = elem.servicios;\n      tripAux.tlf = elem.tlf;\n      tripAux.unidas = elem.unidas;\n      tripAux.viajeros = elem.viajeros;\n\n      this.viaje = tripAux;\n\n      /* Esta funcin devuelve un array de imgenes para el viaje en el que nos encontremos*/\n\n      this.firestoreServiceViaje.getSlides(this.viaje.id).subscribe(res=>{\n        this.slides3 = [];\n          var i;\n          for (i = 0; i<res.length ; i++){\n            this.slides3.push({src: res[i].url});\n          }\n      });\n\n      /* Esta funcin devuelve el array de solicitudes de un viaje */\n        this.firestoreServiceSolicitud.getSolicitudesByTripId(this.viaje.id).subscribe(res=>{\n          this.solicitudes = []\n          var i;\n          for(i=0; i<res.length; i++){\n            this.solicitudes.push({idUsuario: res[i].idUsuario, estado: res[i].estado});\n          }\n\n          // Mostaremos el botn de unirse si el usuario no tiene el viaje entre sus solicitures y es viajero\n          this.showButtonJoin(this.solicitudes);\n\n          /* Esta funcin devuelve un array con las imagenes de los usuarios en un viaje */\n          this.firestoreServiceUser.getUsuarios().subscribe(res=>{\n          this.usuarios_viaje = []\n          var i, j;\n          // Se recorre el array de solicitudes\n          for(i=0; i<this.solicitudes.length; i++){ \n            // Recorremos la base de datos\n            for(j=0; j<res.length; j++){ \n              // Encontramos el usuario de la solicitud\n              if(this.solicitudes[i].idUsuario == res[j].id){ \n                // Guardamos las imagenes para el carousel\n                this.usuarios_viaje.push({src: res[j].image});\n                if (res[j].tipo == 'viajero') {\n                  this.img_usuarios_viaje.push(['perfil-viajero',res[j].id]);\n                }else{\n                  this.img_usuarios_viaje.push(['perfil-organizador',res[j].id]);\n                }\n              }\n            } \n          }\n        });    \n      });\n    \n   });\n  }\n}","<app-header titulo=\"Viaje \"></app-header>\n<app-volver></app-volver>\n\n<div class=\"main_container_izq\">\n   <div class=\"titulo_viaje\">\n      <h1><b>Viaja a </b><span class=\"lugar\">{{viaje.ciudad}}</span></h1>\n   </div>\n   <div class=\"fotografia_viaje\">\n      <div class=\"container_carousel1\">\n         <carousel [slides]=\"slides3\"></carousel>\n      </div>\n   </div>\n\n   <div class=\"informacion_viaje\">\n      <h2 class=\"precio\" style=\"display: inline-block\" >{{viaje.precio}}</h2>\n      <img src=\"../../../assets/hotel.png\" style=\"padding-left: 3%\" height=\"10%\" width=\"10%\"/>\n      <img src=\"../../../assets/plane.png\" style=\"padding-left: 3%\" height=\"10%\" width=\"10%\"/>\n      <img src=\"../../../assets/fork.png\" style=\"padding-left: 3%\" height=\"10%\" width=\"10%\"/>\n      <div style= \"display: inline-block\" >\n     \n      </div>\n      <p>Contacta con nostros a traves de:</p>\n      <img src=\"../../../assets/phone.png\" style=\"display: inline-block; padding: 0 3%\" height=\"3%\" width=\"3%\"/>\n      <p class=\"bold\" style=\"display: inline-block;\">{{viaje.tlf}}</p>\n      <br>\n      <img src=\"../../../assets/envelope.png\" style=\"display: inline-block; padding: 0 3%\" height=\"3%\" width=\"3%\"/>\n      <p class=\"bold\" style=\"display: inline-block;\">{{viaje.email}}</p>\n\n   </div>\n\n   <!--Botones: Implemetacion en la funcin showButtonJoin del typescript-->\n   <div *ngIf=\"show\" class=\"button\">\n      <button (click)=\"unirse()\" mat-raised-button color=\"primary\" style=\"height: 3em; width: 10em;\">Me uno al viaje</button>\n   </div>\n   <div *ngIf=\"payButton\" class=\"button\">\n      <button (click)=\"pagar()\" mat-raised-button color=\"primary\" style=\"height: 3em; width: 10em;\">Pagar</button>\n   </div>\n   <div *ngIf=\"alreadyPaid\" class=\"button\">\n      <button mat-stroked-button disabled style=\"height: 3em; width: 10em;\">Ya has pagado</button>\n   </div>\n\n</div>\n\n<div class=\"main_container_der\">\n   <p>Viaje organizado por <span class=\"organizador\">TopViajes</span></p>\n   <p>Comienza el dia <span class=\"bold\">{{viaje.inicio}}</span></p>\n   <p>Termina el dia <span class=\"bold\">{{viaje.fin}}</span></p>\n   <p><span class=\"bold\">{{viaje.duracion}}</span></p>\n   <p style=\"text-align: justify; margin-right: 12%;\">\n      {{viaje.descripcion}}\n   </p>\n   <p>Con nosotros ya se vienen:</p>\n   <div class=\"container_carousel2\">\n      <carousel [slides]=\"usuarios_viaje\" [links]=\"img_usuarios_viaje\"></carousel>\n   </div>\n   <p>Termina el da <span class=\"bold\">{{viaje.limiteUnion}}</span></p>\n   <p>Fecha lmite de pago: <span class=\"bold\">{{viaje.limitePago}}</span></p>\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  \n  firebase: {\n    apiKey: \"AIzaSyCXDQ9k3UnMGVE_zrLZLijro-U9hdrQglU\",\n    authDomain: \"tripmefy-c7857.firebaseapp.com\",\n    databaseURL: \"https://tripmefy-c7857.firebaseio.com\",\n    projectId: \"tripmefy-c7857\",\n    storageBucket: \"tripmefy-c7857.appspot.com\",\n    messagingSenderId: \"106995985515\",\n    appId: \"1:106995985515:web:3242c6e367a437516cd52e\",\n    measurementId: \"G-782LX8ZY7Y\"\n  }\n  \n   \n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}